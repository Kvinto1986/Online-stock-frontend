(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{261:function(e,a,t){e.exports=t.p+"static/media/appLogo1.c04b8f57.png"},291:function(e,a,t){e.exports=t.p+"static/media/IT.d95a1322.png"},304:function(e,a,t){e.exports=t.p+"static/media/our-product.d7731424.jpg"},305:function(e,a,t){e.exports=t.p+"static/media/slide1.a68f620d.jpg"},306:function(e,a,t){e.exports=t.p+"static/media/slide2.20f1fe18.jpg"},307:function(e,a,t){e.exports=t.p+"static/media/slide3.1c15960a.jpg"},308:function(e,a,t){e.exports=t.p+"static/media/slide4.90bd2fd6.jpg"},309:function(e,a,t){e.exports=t.p+"static/media/slide5.ada063fc.jpg"},317:function(e,a,t){e.exports=t.p+"static/media/like.41c1aa1c.png"},319:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAROAAAETgFCi5P8AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAGBQTFRF////AAAAQEBqQ1FeQkxeRUxgQkthQUhgQUpgQ0pfQktfQ0lhQkpgQkpgQkpgQkpgQ0pgQktgQ0pgUFNaQkpgQ0pgVldXWVlWgnREjnw/t5ctwZ4p268d4LMb4rQa67oWrbf1TAAAABR0Uk5TAAEMExslOkpaa5aZqrnQ3Obv9f6KN7WeAAAAU0lEQVQYV33PRw7AMAgEQNKbE6dseuH/v/QVsBSOIwG7RNQWpGeYm0QD0Ocadky1gudc4TIBL98bxkoCfwfQpQKYrwW+/AG7Yo5Gb6NgNrotp+sHe0QIUZ7rqcgAAAAASUVORK5CYII="},320:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADHAAAAxwFiM3khAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAHtQTFRF////Zsxma7xeaMVdar9VZsJcbMRYaMZVasVaa8JXacNabMRYasBXaMJaacJYasFaasFaasNZasJaa8FYasNYasFaasNZasFZasJZacJZasJZasJZasJZasJZasJZasJYasJZasJZasJZasJZasJZa8JZasJZasJZasJZy0JfTgAAACh0Uk5TAAUTFhgZGhswMjM0NTZLUltqbHx/gIeywNDR0tjZ2tvm6+7v8Pn6/BIJz6gAAAC5SURBVCjPddLbdsIgEIXhnaJtaltMlIjpSeqB/O//hL1IVKDNvvwWa4CZkcYY63wI3lmjNFUXmRJddfe6J0lfX72NZIntdL5wiLUkVT1/0leSugJ/AJxkikKfiy0QjWzhS2kPWLnMv5bSbqzlM3+cHK8A8L4ZAL5vTlAAPh7UDJkT5IHjs9QMh6e748fLjytpnTpueu7pRUode/3g6TXzaG4tOb8ljkuaeCmbONv2+UHNj3Z+Gf5bn18c7z0V3eQBjQAAAABJRU5ErkJggg=="},356:function(e,a,t){e.exports=t(603)},361:function(e,a,t){},413:function(e,a,t){},439:function(e,a,t){e.exports=t.p+"static/media/appLogo2.d9146054.png"},599:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCRoMIC238Ze1AAAJT0lEQVR42u2da3BdVRXHf/fmVSDJDdT0YVFL27TFF2mqqLVKRShtIVjAfCjqnaGDmVEcr46M+VA/RB3GzPgYo0OY1BH0itIGFTCOUwKVRyMUpwUqVKEPqkL6SgtNW5q0Nff4ITT33Nyz1z7nnnPuPp3ctb9kds7Ze63/3Wvttddeex8wRTWk2MFp9tLBpca4MEQzaOco1ngZpZclppkqFi0izRmb8NmyjSTlptkLk+I085ij6NkyQDuXmGY0DKoiyT81wp8rJ+hmoWmGg6TptHPEpfB2q3CNacaDoEZ+zWmFkGfZyAp+zJAShu18kUrTIhRKMa6hl4xCtON08r53nqyhlX8pQThIO+8yLYxXqiLJy0qR9tPOxRPekA3kCGk+aFootzSNNgaEQS1NdYvoZlj5bj/NxEyLJ1MDnZzyadam086gEoRdpLjQtJjOtFTQeK8Tm6xCx+iMlvNcSZJ/KNk9ULBrI0F6mh4+blpwgAQp3lAK/wKtTPHV/nw6eVuwCi2UmRN+nsDcKI/RHFA/9bTxuhKEvbRRV3zhl9LD/4RJ6/0B91dJC1uVIAzZvIrQqUJk5VCobosEe1Gc51pS/Fcp/A5auSBsFphDB28pedhGkoqwOu7kZESclFpS/Fv0NANeUi8mrRx6pw25qXGa6VeCcIJuLg+qm2eU3Rymg3cbED5Li5XxpXMzkY9xWSMOtOg4pTMnRBhzy4uFWabZoqmJ3rKkmlYh4nTI20hdTJqzggt6pWlpFRQXIxAjpPmQrokyPs/flDge4S5mmpZSS438ShmDytDHSvXY/Sy7lMK/ylciovFuaAbf47BSlsedJ8klStye4EbipmXyTFO4Xbmk7nV6oc/hwTPcT5NpSXxQjOX8xdEqzMl/+M28hyIWdiiYljpEmJbnP5a/4DzEd5lumnuf1ECX45LdIT71M8XkcR9XmJaiQLqKRxh1lOopp8cT7FDazc00n1dmsIJb2aaU5gWVUzSFdRwUXN87uMi0ZC6ojm8L8aOXWCvvQFfSwnPK14saeSmALgvKgddFXj5pWlIHkh14F27wRJorBkCilMwgRwYG6WBWoU3XkuI/yqZDiLx4phpS7FNyuDuIJXucZmGBZDKZYSbtDu5bVuMD3TNYwoOCVXiYZUUW/ko2iBrfqHm/2m4Oy7iNXvroYIH40mx+xDEl4s+TLEoyQ5yb2KLk4ig/0IQ+6lnHa1ic4Cdj6hHnofHXM2xilejy1PB19ghWYV2oyQzVfE3ofbfWU2nklznb71sph7UODX2DhPgbrOZJJRunWB/4vhDALDoEjX+a1eIPV8bNjjx/CXoVxu1ujXFrIi1EXjZxXYBRwyZ+o4z9nuUBPiK+XcedypniFwh+X4Y+zRpgJncJyQw7A9gpitPMX5U9HOOHvFd8fyFdgjdj8YAEwFjZS5s421eR5CWBxU7eU6DwVSTZqWx5n2ZXWE7SsgGwVfOIhcVJ7hH1OsYKHhWSGdKe40oz+L4wtp7VzPHV3MGrwsjO/r3BHQBjpZ8W0f1tEJMZ3DvP831lGl1Gh7BNsp92bs8F4FnXAFhYvEE7U4XuE6R8JTPoMo0WaN7uUbpH2Z9gta1uo1cALCyGSfNhgY1KWoRWj9PJbMe3JFuiyzSqIikEdHIziiYA8IxH8d0qhJdkhnrahEyj5zV7/jPExLqDeavBz9n+24Ow0NGXAU0+iJzMsJ0kFZpMI53GS7vDFtsdk7RuzAWg37PYueVt1osKkeBOYY95UKnxJ7mbBlHRvsDfle2eYQOfULzZbHvuQf8AjBXZxrs5KpE7bGVTO402IVXnGJ2ie2QH4PdBAWAxNsVICiEP13PlRU1uYSPdyknS4hUXIZAJAGzxKXZuGdGsxaVkhowmo0MeR+7zQW6wvfUHeDpQALIKobbbTskMI6T5gMB0rRj6Ou4pLnV9+ACcU4h64dfMeuq6/I0GMTy723OmqB2AP8JTIQFgYTHMvSwSWJnLzSwT4khxrqdPOU9k2MTKAnasVtnaeChcANwohIpqaBXWgsMalfEAwJMhiz9WDniKzs8Roz9+zxautLX1MDxRFAAsxjxy/QFZyYUOZkNmhSkAdApRJR68GKGHj/kUPR+ARxACTuGV17klj621woJmgHXCjOKVrrO1/CfYbAAAi8wECG5TPrmVNQHnfy+3td4LjxsBwGKPjaW440G7M/wuoEGfS9faATC3wzuXegbf+fvSPEdokPV0sT90LmImt7hrxwGozqnfQRf3c6o4TJRjGQMgu3Cx8/CydmPTL9l7i0Uv9Wk09B5yfvK4wRGgYKmoFDMJgLMKhH8OYcIIMEdROHJhdARkydwIMGoEYx5qwwKgZARLRtCY+NFQgQgaweJSyQiWRkDJCJqjKKhAyQhO9hFQMoIlI2hM/GioQMkITvYREEEjOIlUwNkIFpkmuwqUjOBkHwElI1gygua6joQKlIzgZB8BxMlEAIDiGkF7OkZE8gOKpwKL6abPXlHOiDGxizsCKriFVN5lzEPl7IwAAPpaf1TPl/mqY6ruFpgq3LsWbsmmzU611Q4ELPwVE47M28uusUT7Jl6JEADBpcaVcZOQCDzKxuztiBWsKfj8YOElexnPJbbaA4EIX8e3eE3Z8xA/ZV7+S03icaTzB4B5dHJC2ese2vK+b2GjabQJF+eEBcDFttqDPkTXHZl3ebNMmcdTfoWWpYECUE2r8FEGV1eq5tIiuoXD8MECUGerPVSA8Poj81MLaBWoE69W9ls+Nd5PwgcA7o7M+yCvx17dl087AnDYNWdejsz7psYQFCILQK2tdtAVP16PzAdCiYAV4qoCASjkyHxgNKYQurtZvAJQY6s9IvReSYtw2LuIH2hbIB5mdVuWjbdX7QIAf0fmQ6CEeJzZTfmMIwBHHfryf2Q+JIq7uqxID8BFtto3J/QQzJH5UKlQhbhaA0CQR+ZDpwQpYfWlA+BCW+1bgO7I/B4zH1fSURmr2exBIbIW+wJb7RCrhGu5MjyqufHQOM13rRDOAKjL8Pnz2cVa8SOa+QBM0T47UPiCxhTpZ4hrx5+tEoWP0h3GnulyupTRmY+OPxVThC1HuDf0Y5RFoATfdLgKdZAq2zN/zvv/fr7DNNOsB0dxbsix7aOsyfn/wpwrM57j1vP3e8MSLeTn7OMU/azI+98sfsthBkgX91Oa/wfVzIYb3niwfQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wOS0yNlQxMjozMjo0NSswMDowMDvKuq0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDktMjZUMTI6MzI6NDUrMDA6MDBKlwIRAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},602:function(e,a,t){},603:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),c=t.n(l),o=(t(361),t(134)),i=t(21),m=t(81),s=t(281),u=t(16),d=t(10),p="SET_ERRORS",g={},E=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},b={isAuthenticated:!1,user:{}},h={},f=[],v={},y={prevPath:"/"},O=function(e,a){return e[a.id]=a,e};function x(e,a){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=n.type,l=n.data;switch(r){case a:return l.reduce(O,{});case e:return Object(d.a)({},t,Object(u.a)({},l.id,l));case"DELETE_".concat(e):var c=Object(d.a)({},t);return delete c[l.id],c;default:return t}}}var C=x("EMPLOYEE","EMPLOYEES"),j=x("CARRIER","CARRIERS"),T=x("DRIVER","DRIVERS"),N=x("TTN","TTNS"),A=x("WAREHOUSE","WAREHOUSES"),S=x("TTN_OUT","TTNS_OUT"),w=x("SERVICE","SERVICES"),k=x("TTN_EXPORT_ORDER","TTN_EXPORT_ORDERS"),D=x("TTN_IMPORT_ORDER","TTN_IMPORT_ORDERS"),W=Object(m.combineReducers)({warehouses:A,employees:C,carriers:j,drivers:T,ttns:N,ttnsOut:S,services:w,ttnsExportOrders:k,ttnsImportOrders:D,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p:return a.payload;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(d.a)({},e,{isAuthenticated:!E(a.payload),user:a.payload});default:return e}},adminCompanyStatistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CURRENT_STATISTIC":return a.payload;default:return e}},companiesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CURRENT_COMPANIES_LIST":return a.payload;default:return e}},currentCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CURRENT_COMPANY":return a.payload;default:return e}},carriersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PREV_PATH":return Object(d.a)({},e,{prevPath:a.payload});default:return e}},roleTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TTNS_EXPORT":return Object(d.a)({},e,{barData:a.payload});case"TTN_DATEOUT":return Object(d.a)({},e,{contentData:a.payload});default:return e}}}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.compose,I=Object(m.createStore)(W,R(Object(m.applyMiddleware)(s.a))),P=t(164),B=t.n(P),V=t(31),L=t.n(V),F=function(e){e?L.a.defaults.headers.common.Authorization=e:delete L.a.defaults.headers.common.Authorization},M="https://warehouse-online-backend.herokuapp.com/",U=function(e){return{type:"SET_CURRENT_USER",payload:e}},q=function(e){return function(){localStorage.removeItem("jwtToken"),F(!1),e(U({})),e({type:p,payload:{}})}},z=t(95),G=t(692),Q=t(2),Z=t(698),J=t(652),Y=t(169),_=t.n(Y),H=t(78),K=t(651),X=t(161),$=Object(X.a)((function(e){return{paper:{padding:e.spacing(3,5,5,5),marginTop:e.spacing(20),marginBottom:e.spacing(15),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ee=t(650),ae=t(649),te=t(11),ne=function(e){var a=e.onSubmit,t=e.errors,l=Object(n.useState)({company:"",email:"",password:"",password_confirm:"",errors:{}}),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=function(e){i(Object(d.a)({},o,Object(u.a)({},e.target.name,e.target.value)))},s=$();return r.a.createElement(te.ValidatorForm,{className:s.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var t={company:o.company,email:o.email,role:o.role};a(t)}},r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(te.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,id:"company",label:"Company name",name:"company",autoComplete:"Company name",value:o.company,onChange:m,validators:["required"],errorMessages:["this field is required"]})),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(te.TextValidator,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:o.email,onChange:m,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}))),r.a.createElement(G.a,{mt:1},t&&r.a.createElement("span",{style:{color:"red"}},t.email),t&&r.a.createElement("span",{style:{color:"red"}},t.password)),r.a.createElement(G.a,{mt:5},r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},"Create account")))},re=t(135),le=function(e){var a=e.onSubmit,t=e.errors,n=e.keyReset,l=$();return r.a.createElement(K.a,{component:"main",maxWidth:"sm"},r.a.createElement(J.a,null),r.a.createElement(re.a,{className:l.paper},r.a.createElement(Z.a,{className:l.avatar},r.a.createElement(_.a,null)),r.a.createElement(G.a,{m:3},r.a.createElement(H.a,{component:"h1",variant:"h5"},"Crate new company admin")),r.a.createElement(ne,{onSubmit:a,errors:t,key:n})))};function ce(){var e=Object(n.useState)(0),a=Object(Q.a)(e,2),t=a[0],r=a[1];return["_resetable_"+t,function(){return r(t+1)}]}var oe,ie,me,se=function(e,a,t,n,r){return L()({method:n,url:M+a,data:r}).then((function(a){t({type:e,payload:a.data})}))},ue=function(e,a){return function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return se(a,e+n,t,"GET")}}},de=function(e,a){return function(t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return se(a,e+r,t,"POST",n)}}},pe=function(e,a,t){return L()({method:t,url:M+e,data:a})},ge=function(e){return function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pe(e+t,a,"POST")}},Ee=function(e){return function(a){return pe(e+a,{},"DELETE")}},be=(me="COMPANY_ADMINS",de(oe="api/companyadmins/",ie="COMPANY_ADMIN"),ue(oe,me),ue(oe,ie),de(oe,ie),function(e){return{add:ge(e),edit:ge(e),delete:Ee(e)}}("api/companyAdmins/").add),he=t(82),fe=t.n(he),ve=(t(127),function(){var e=ce(),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=function(e,a,t){console.log("useStorelessApiCallback is deprecated");var r=Object(n.useState)(t),l=Object(Q.a)(r,2),c=l[0],o=l[1];return[Object(n.useCallback)((function(){return e.apply(void 0,arguments).then(a).catch((function(e){var a=e.response;return o(a.data)}))}),[]),c]}(be,(function(){return function(e,a,t,n,r){fe.a.fire({title:e,text:a,type:"success",showConfirmButton:n,timer:t}).then(r)}("Success!","Company admin has been registred",2e3,!1,l)})),o=Object(Q.a)(c,2),i=o[0],m=o[1];return r.a.createElement(le,{onSubmit:i,errors:m,keyReset:t})}),ye=t(286),Oe=t.n(ye),xe=function(e,a,t,n,r,l){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return V({method:n,url:"".concat(M,"api/").concat(a,"/").concat(r).concat(c),data:l}).then((function(a){var n=a.data;t({type:e,data:n})}))},Ce=function(e,a){return function(t){var r=Object(i.c)(),l=Object(n.useState)(!1),c=Object(Q.a)(l,2),o=c[0],m=c[1],s=Object(i.d)(a),u=Object(n.useState)({}),d=Object(Q.a)(u,2),p=d[0],g=d[1];return[Object(n.useCallback)((function(){console.log("use callback"),m(!0),e.apply(void 0,arguments)(r).then((function(e){return t&&t(e),e})).catch((function(e){var a=e.response.data;return g(a)})).finally((function(){return m(!1)}))}),[r,t]),s,p,o]}},je=function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},Te=function(e){return e.split("_").map(je).join("")};function Ne(e,a,t){var n,r=Te(a),l=r[0].toLowerCase()+r.slice(1),c=Te(e),o=Te(a);return n={},Object(u.a)(n,"useGet"+c,Ce(function(e,a){return function(t){return function(n){return xe(e,a,n,"GET",t)}}}(e,l),t)),Object(u.a)(n,"useEdit"+c,Ce(function(e,a){return function(t,n){return function(r){return xe(e,a,r,"POST",n,t)}}}(e,l),t)),Object(u.a)(n,"useDel"+c,Ce(function(e,a){return function(t){return function(n){return xe(e,a,n,"DELETE",t)}}}("DELETE_".concat(e),l),t)),Object(u.a)(n,"useGet"+o,Ce(function(e,a){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return xe(e,a,n,"GET","",{},Oe.a.stringify(t))}}}(a,l),t)),Object(u.a)(n,"useAdd"+c,Ce(function(e,a){return function(t){return function(n){return xe(e,a,n,"POST","",t)}}}(e,l),t)),n}var Ae=function(e){return e.auth.user},Se=function(e){return e.auth.user},we=function(e){return e.errors},ke=Ne("EMPLOYEE","EMPLOYEES",(function(e){return e.employees})),De=ke.useAddEmployee,We=ke.useDelEmployee,Re=ke.useGetEmployee,Ie=ke.useGetEmployees,Pe=ke.useEditEmployee,Be=Ne("CARRIER","CARRIERS",(function(e){return e.carriers})),Ve=Be.useGetCarrier,Le=Be.useGetCarriers,Fe=Be.useAddCarrier,Me=Be.useEditCarrier,Ue=Be.useDelCarrier,qe=Ne("DRIVER","DRIVERS",(function(e){return e.drivers})),ze=qe.useGetDriver,Ge=qe.useAddDriver,Qe=Ne("TTN","TTNS",(function(e){return e.ttns})),Ze=Qe.useGetTtn,Je=Qe.useEditTtn,Ye=Qe.useAddTtn,_e=Qe.useDelTtn,He=Ne("WAREHOUSE","WAREHOUSES",(function(e){return e.warehouses})),Ke=He.useAddWarehouse,Xe=He.useDelWarehouse,$e=He.useGetWarehouse,ea=He.useGetWarehouses,aa=Ne("TTN_OUT","TTNS_OUT",(function(e){return e.ttnsOut})).useAddTtnOut,ta=Ne("TTN_EXPORT_ORDER","TTN_EXPORT_ORDERS",(function(e){return e.ttnsExportOrders})).useGetTtnExportOrder,na=Ne("TTN_IMPORT_ORDER","TTN_IMPORT_ORDERS",(function(e){return e.ttnsImportOrders})).useGetTtnImportOrder,ra=Ne("SERVICE","SERVICES",(function(e){return e.services})),la=ra.useAddService,ca=ra.useDelService,oa=ra.useGetServices,ia=ra.useEditService,ma=t(172),sa=t.n(ma),ua=t(695),da=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},root:{width:"100%",overflowX:"auto"},main:{width:"100%",display:"flex"},paper:{width:"50%",display:"flex",flexDirection:"column"},paperList:{width:"50%",display:"flex",justifyContent:"start",flexDirection:"column"},formControl:{width:"100%"},form:{width:"100%",marginTop:e.spacing(3)},icon:{width:"20%"},submit:{margin:e.spacing(3,0,2)},cardArea:{margin:e.spacing(3,3,3,3),width:"100%"},card:{marginTop:e.spacing(7)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},tab:{backgroundColor:"WhiteSmoke"},error:{marginTop:"3%",marginBottom:"5%",color:"red"},h5:{paddingTop:"3%",textAlign:"center",color:"#3f51b5"},dark:{color:"black"},tabContainer:{backgroundColor:"WhiteSmoke"},createForm:{marginTop:"3%",backgroundColor:"white"}}})),pa=t(44),ga=t(653),Ea=function(e){var a=e.children,t=e.value,n=e.index,l=Object(pa.a)(e,["children","value","index"]);return r.a.createElement(H.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},l),r.a.createElement(G.a,{p:3},a))},ba=function(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}},ha=function(e){return r.a.createElement(ga.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))},fa=t(28),va=t(655),ya=t(656),Oa=t(657),xa=t(654),Ca=function(e){var a=e.list,t=e.handleDeleteArea,n=da();return r.a.createElement(G.a,{mt:30,mr:5},r.a.createElement(G.a,{mb:5,mt:5},r.a.createElement(H.a,{component:"h1",variant:"h5",className:n.h5},"Created areas")),a.map((function(e,a){return r.a.createElement(G.a,{key:e.type+a},r.a.createElement(xa.a,{className:n.cardArea},r.a.createElement(va.a,null,r.a.createElement(ya.a,null,r.a.createElement(H.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Type: ",r.a.createElement("span",null," ",e.type)),r.a.createElement(H.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Area (m",r.a.createElement("sup",null,"2"),"):",r.a.createElement("span",null," ",e.area)))),r.a.createElement(Oa.a,null,r.a.createElement(ee.a,{variant:"contained",color:"secondary",onClick:function(){return t(a,e.area)}},"Delete"))))})))},ja=t(210),Ta=t(700),Na=t(610),Aa=t(5),Sa=t.n(Aa),wa=function(e){var a=e.max,t=e.min,l=e.name,c=e.required,o=e.error,i=e.value,m=e.helperClass,s=e.handleChange,p=e.validators,g=void 0===p?[]:p,E=e.errorMessages,b=void 0===E?[]:E,h=e.pattern,f=void 0===h?/^[a-zA-Z]*$/:h,v=Object(pa.a)(e,["max","min","name","required","error","value","helperClass","handleChange","validators","errorMessages","pattern"]),y=Object(n.useMemo)((function(){var e=Object(fa.a)(g),n=Object(fa.a)(b);return c&&(e.push("required"),n.push("This field is required")),t&&(e.push("minStringLength:"+t),n.push("Value should be at least ".concat(t," characters"))),a&&(e.push("maxStringLength:"+a),n.push("Value should be no more than ".concat(a," characters"))),[e,n]}),[g,b,t,a,c]),O=Object(Q.a)(y,2),x=O[0],C=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.TextValidator,Object.assign({type:"text"},v,{onChange:function(e){var a=e.target.value;return f.test(a)&&s(Object(d.a)({},i,Object(u.a)({},l,a)))},value:i[l],validators:x,errorMessages:C})),r.a.createElement(Na.a,{className:m},o[l]))};wa.prototype={name:Sa.a.string.isRequired,error:Sa.a.object.isRequired,value:Sa.a.object.isRequired,pattern:Sa.a.instanceOf(RegExp),min:Sa.a.number,max:Sa.a.number,required:Sa.a.bool,helperClass:Sa.a.string,validators:Sa.a.array,errorMessages:Sa.a.array};var ka=wa,Da=t(618),Wa=t(605),Ra=Object(X.a)((function(e){return{avatar:{marginLeft:"50%",width:"7%"}}})),Ia=function(e){var a=e.setAvatar,t=Object(n.useState)(!1),l=Object(Q.a)(t,2),c=l[0],o=l[1];Ra();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Da.a,null,"You photo (optional)"),r.a.createElement(Wa.a,{type:"file",onChange:function(e){e.target.files[0]&&["jpg","png","jpeg"].includes(e.target.files[0].name.split(".")[1])?(a(e.target.files[0]),o(!1)):o(!0)},fullWidth:!0}),c&&r.a.createElement(Na.a,{style:{color:"red"}},c&&"The file should only be a picture"))},Pa=t(694),Ba=t(290),Va=t.n(Ba),La=t(287),Fa=t.n(La),Ma=t(288),Ua=t.n(Ma);var qa={current:null},za=Object(X.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}}));function Ga(e){var a=e.addArea,t=e.location,n=e.handleLocationChange,l=za(),c=r.a.useState(""),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=r.a.useState([]),u=Object(Q.a)(s,2),d=u[0],p=u[1],g=r.a.useRef(!1);"undefined"===typeof window||g.current||(document.querySelector("#google-maps")||function(e,a,t){if(a){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("id",t),n.src=e,a.appendChild(n)}}("https://maps.googleapis.com/maps/api/js?key=AIzaSyBwRp1e12ec1vOTtGiA4fcCt2sCUS78UYc&libraries=places",document.querySelector("head"),"google-maps"),g.current=!0);var E=function(e){m(e.target.value)},b=r.a.useMemo((function(){return Ua()((function(e,a){qa.current.getPlacePredictions(e,a)}),200)}),[]);return r.a.useEffect((function(){var e=!0;if(!qa.current&&window.google&&(qa.current=new window.google.maps.places.AutocompleteService),qa.current){if(""!==i)return b({input:i},(function(a){e&&p(a||[])})),function(){e=!1};p([])}}),[i,b]),r.a.createElement(Pa.a,{id:"google-map-demo",style:{width:"100%"},getOptionLabel:function(e){return"string"===typeof e?e:(n(e.description),e.description)},filterOptions:function(e){return e},options:d,autoComplete:!0,includeInputInList:!0,freeSolo:!0,fullWidth:!0,value:t,disabled:a,disableOpenOnFocus:!0,renderInput:function(e){return r.a.createElement(te.TextValidator,Object.assign({},e,{required:!0,fullWidth:!0,label:"Add a location",onChange:E,value:t,validators:["required","minStringLength:5"],errorMessages:["Enter the correct address","The value must be at least 5 characters"]}))},renderOption:function(e){var a=e.structured_formatting.main_text_matched_substrings,t=Fa()(e.structured_formatting.main_text,a.map((function(e){return[e.offset,e.offset+e.length]})));return r.a.createElement(ae.a,{container:!0,alignItems:"center"},r.a.createElement(ae.a,{item:!0},r.a.createElement(Va.a,{className:l.icon})),r.a.createElement(ae.a,{item:!0,xs:!0},t.map((function(e,a){return r.a.createElement("span",{key:a},e.text)})),r.a.createElement(H.a,{variant:"body2",color:"textSecondary"},e.structured_formatting.secondary_text)))}})}var Qa=function(e){var a=e.warehouse,t=e.totalArea,n=e.error,l=Object(pa.a)(e,["warehouse","totalArea","error"]),c=da();return r.a.createElement(K.a,{maxWidth:"sm",className:c.createForm},r.a.createElement(H.a,{component:"h1",variant:"h5",className:c.h5},"Fill the form"),r.a.createElement(te.ValidatorForm,{className:c.form,noValidate:!0,onSubmit:l.handleChangeAddArea},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:2,max:30,pattern:/.*/,required:!0,fullWidth:!0,label:"Warehouse name",name:"name",disabled:l.addArea,value:a,handleChange:l.setWarehouse,error:n,helperClass:c.error})),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:10,max:10,pattern:/^[0-9]*$/,required:!0,fullWidth:!0,label:"Warehouse license number",name:"license",disabled:l.addArea,value:a,error:n,handleChange:l.setWarehouse,helperClass:c.error})),r.a.createElement(ae.a,{container:!0,spacing:7},r.a.createElement(ae.a,{item:!0,xl:12,xs:12},r.a.createElement(Ga,{addArea:l.addArea,handleLocationChange:l.handleLocationChange,location:l.location}))),r.a.createElement(ae.a,{container:!0,spacing:7},r.a.createElement(ae.a,{item:!0,xl:9},r.a.createElement(Ia,{setAvatar:l.setAvatar})),r.a.createElement(ae.a,{item:!0,xl:3},r.a.createElement(Z.a,{src:l.avatarUrl,variant:"square",className:c.square,style:{width:"50%",height:"70%"}}))),r.a.createElement(ae.a,{item:!0,xs:12,style:{marginTop:"10%"}},r.a.createElement(H.a,{className:c.h5,gutterBottom:!0},"Warehouse total area (m",r.a.createElement("sup",null,"2"),")"),r.a.createElement(Ta.a,{value:t,onChange:l.handleChange,defaultValue:0,getAriaValueText:l.handleChangeArea,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:5,marks:!0,min:0,max:1e3,disabled:l.addArea}),r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,disabled:l.addArea},"Save info"))))},Za=t(660),Ja=t(615),Ya=t(609),_a=function(e){var a=e.warehouse,t=e.totalArea,n=e.currentArea,l=Object(pa.a)(e,["warehouse","totalArea","currentArea"]),c=da();return r.a.createElement(K.a,{maxWidth:"sm"},r.a.createElement(xa.a,{className:c.card},r.a.createElement(ya.a,null,r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(H.a,{component:"h1",variant:"h5",className:c.h5},"Create warehouse area")),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(Ya.a,{className:c.formControl,required:!0},r.a.createElement(Da.a,null,"Type"),r.a.createElement(Ja.a,{value:a.type,onChange:l.handleInputChange,inputProps:{name:"type"},"data-testid":"select"},r.a.createElement(Za.a,{value:"heated"},"Heated"),r.a.createElement(Za.a,{value:"unheated"},"Unheated"),r.a.createElement(Za.a,{value:"cooling"},"Cooling chamber"),r.a.createElement(Za.a,{value:"outdoor"},"Outdoor")))),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(H.a,{component:"h1",variant:"h6"},"Available area: ",t)),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(H.a,{id:"discrete-slider",gutterBottom:!0},"Area (m",r.a.createElement("sup",null,"2"),")"),r.a.createElement(Ta.a,{getAriaValueText:l.handleChangeCurrentArea,defaultValue:0,valueLabelDisplay:"auto",step:5,marks:!0,min:0,max:t,"data-testid":"slider"})))),t>0&&n>0&&a.type&&r.a.createElement(Oa.a,null,r.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:l.handleAddArea},"Add "))))},Ha=t(180),Ka=(t(413),Object(Ha.GoogleApiWrapper)({apiKey:"AIzaSyBoT8j8K86MPr6lO2JWbrNCVTwLrYcM9ys",libraries:["places"]})((function(e){var a=e.mapVisibility,t=e.GPS,n=e.google,l=e.theme,c=e.zoom,o=e.mapHeight,i=e.withTitle,m=da();return a&&r.a.createElement(K.a,{maxWidth:"sm"},r.a.createElement(G.a,{mb:5},i&&r.a.createElement(H.a,{component:"h1",variant:"h5",className:l?"classes.".concat(l):m.h5},"Warehouse location")),r.a.createElement("div",{className:"sellerMap"},r.a.createElement(Ha.Map,{google:n,zoom:c,initialCenter:t,style:{height:"".concat(o,"px"),border:"#3e43a1 solid 1px",marginBottom:"5%"}},r.a.createElement(Ha.Marker,{name:"warehousingAddress",position:{lat:t.lat,lng:t.lng}}))))}))),Xa=t(100),$a=t.n(Xa),et=t(170),at=t.n(et);t(604);at.a.initializeApp({apiKey:"AIzaSyCOG-VMoaW7sOJUtT1V32lHGKU1kwiDvr8",authDomain:"saveithare.firebaseapp.com",databaseURL:"https://saveithare.firebaseio.com",projectId:"saveithare",storageBucket:"saveithare.appspot.com",messagingSenderId:"1008560502490",appId:"1:1008560502490:web:31d0357d592af1f28e97e3",measurementId:"G-00W272CX7J"});var tt=at.a.storage(),nt={mapVisibility:!1,GPS:{}},rt=function(e){var a=e.onSubmit,t=e.error,l=e.company,c=da(),o=Object(n.useState)({name:"",license:"",type:!1,totalArea:"",company:l,address:""}),i=Object(Q.a)(o,2),m=i[0],s=i[1],p=Object(n.useState)(10),g=Object(Q.a)(p,2),E=g[0],b=g[1],h=Object(n.useState)(0),f=Object(Q.a)(h,2),v=f[0],y=f[1],O=Object(n.useState)([]),x=Object(Q.a)(O,2),C=x[0],j=x[1],T=Object(n.useState)(!1),N=Object(Q.a)(T,2),A=N[0],S=N[1],w=Object(n.useState)(10),k=Object(Q.a)(w,2),D=k[0],W=k[1],R=Object(n.useState)(""),I=Object(Q.a)(R,2),P=I[0],B=I[1],V=Object(n.useState)(nt),L=Object(Q.a)(V,2),F=L[0],M=L[1],U=Object(n.useState)("https://cdn.pixabay.com/photo/2014/04/03/00/38/house-308936_960_720.png"),q=Object(Q.a)(U,2),z=q[0],Z=q[1],Y=$a()(!1,(function(e){e&&(le(),$(!1))})),_=Object(Q.a)(Y,2),X=_[0],$=_[1],te=function(){S(!1),j([])},ne=function(){var e=P;M(Object(d.a)({},F,{mapVisibility:!1})),Object(ja.geocodeByAddress)(e).then((function(e){return Object(ja.getLatLng)(e[0])})).then((function(e){M(Object(d.a)({},F,{GPS:e,mapVisibility:!0}))}))},re=function(e,a){b(a)},le=function(){tt.ref("build/".concat(X.name)).put(X).on("state_changed",(function(e){}),(function(e){console.error(e)}),(function(){tt.ref("build").child(X.name).getDownloadURL().then((function(e){Z(e)}))}))};return r.a.createElement(K.a,{component:"main",maxWidth:"xl"},r.a.createElement(J.a,null),r.a.createElement(G.a,{className:c.main},r.a.createElement(ae.a,{container:!0,spacing:5},r.a.createElement(ae.a,{item:!0,xl:6,sm:12},A?r.a.createElement(_a,{warehouse:m,totalArea:E,currentArea:D,handleInputChange:function(e){s(Object(d.a)({},m,Object(u.a)({},e.target.name,e.target.value)))},handleChangeCurrentArea:function(e){W(e)},handleAddArea:function(e){e.preventDefault(),re(e,E-D);var a={area:D,type:m.type,freeArea:D,products:[]};j([].concat(Object(fa.a)(C),[a]))}}):r.a.createElement(Qa,{warehouse:m,totalArea:E,error:t,handleChangeArea:function(e){b(e)},handleChangeAddArea:function(e){e.preventDefault(),E>0&&(S(!0),y(E),ne())},onSelectLocation:ne,addArea:A,setWarehouse:s,handleChange:re,handleUpldChange:function(e){e.target.files[0]&&$(e.target.files[0])},avatarUrl:z,avatar:X,handleLocationChange:function(e){B(e)},location:P,setAvatar:$}),A&&0===E&&r.a.createElement(K.a,{maxWidth:"sm"},r.a.createElement(G.a,{mt:10},r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(e){e.preventDefault();var t=C.map((function(e,a){return e.index=a+1,e})),n={company:m.company,name:m.name,license:m.license,totalArea:v,areas:t,freeArea:v,address:P,GPS:F.GPS,buildImg:z};a(n,te)}},"Create warehouse"))),A&&0===C.length&&r.a.createElement(K.a,{maxWidth:"sm"},r.a.createElement(G.a,{mt:10},r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"default",className:c.submit,onClick:function(){S(!1),M(Object(d.a)({},F,{mapVisibility:!1}))}},"Change data from previous form")))),r.a.createElement(ae.a,{item:!0,xl:6,sm:12},A&&r.a.createElement(K.a,null,r.a.createElement(H.a,{component:"h1",variant:"h5",className:c.h5},"WAREHOUSE (",m.name.toLocaleUpperCase(),") \u2116",m.license)),r.a.createElement(Ka,{mapVisibility:F.mapVisibility,GPS:F.GPS,zoom:15,mapHeight:200}),C.length>0&&r.a.createElement(K.a,{item:!0,xl:6,sm:12},r.a.createElement(Ca,{handleDeleteArea:function(e,a){var t=Object(fa.a)(C);t.splice(e,1),j(Object(fa.a)(t)),b(E+a)},list:C}))))))},lt=t(662),ct=t(666),ot=t(665),it=t(663),mt=t(701),st=t(664),ut=t(47),dt=t.n(ut),pt=t(667),gt=t(46),Et=t.n(gt),bt=t(661),ht=[{id:"id",label:"License",align:"left"},{id:"name",label:"Name",align:"left"},{id:"address",label:"Address",align:"center"},{id:"date",label:"Registration date",align:"center"},{id:"totalArea",label:"Area",align:"center"}],ft=Object(X.a)({table:{minWidth:700}}),vt=function(e){var a=e.deleteWarehouse,t=e.warehouses,l=Object(n.useState)(0),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(5),s=Object(Q.a)(m,2),u=s[0],d=s[1],p=o*u,g=o*u+u,E=ft();return r.a.createElement(bt.a,{component:re.a},r.a.createElement(lt.a,{className:E.table,size:"small"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,ht.map((function(e){return r.a.createElement(ot.a,{key:e.id,align:e.align},e.label)})),r.a.createElement(ot.a,{align:"center"},"Action"))),r.a.createElement(ct.a,null,t.slice(p,g).map((function(e){return r.a.createElement(st.a,{key:e.id},ht.map((function(a,t){return r.a.createElement(ot.a,{key:a.id,align:a.align},"date"===a.id?Et()(e[a.id]).format("L"):e[a.id])})),r.a.createElement(ot.a,{align:"center"},r.a.createElement(pt.a,{color:"default",size:"small",onClick:function(){return a(e.id)}},r.a.createElement(dt.a,null))))})))),r.a.createElement(mt.a,{rowsPerPageOptions:[5,10,20],component:"div",count:t.length,rowsPerPage:u,page:o,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){d(+e.target.value),i(0)}}))},yt=function(e){var a=e.createWarehouse,t=e.createWarehouseError,n=e.deleteWarehouse,l=e.warehouses,c=e.authUser,o=e.formKey,i=e.tableKey,m=da(),s=r.a.useState(0),u=Object(Q.a)(s,2),d=u[0],p=u[1],g=Object.values(l).filter((function(e){return e.totalArea===e.freeArea}));return r.a.createElement("div",{className:m.root},r.a.createElement(sa.a,{position:"static"},r.a.createElement(ua.a,{className:m.tab,variant:"fullWidth",value:d,onChange:function(e,a){p(a)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(ha,Object.assign({label:"Create new warehouse",href:"/form"},ba(0))),r.a.createElement(ha,Object.assign({label:"Warehouses list",href:"/list"},ba(1))))),r.a.createElement(Ea,{value:d,index:0,className:m.tabContainer},r.a.createElement(rt,{key:o,onSubmit:a,error:t,company:c.company})),r.a.createElement(Ea,{value:d,index:1},r.a.createElement(vt,{key:i,deleteWarehouse:n,warehouses:g})))},Ot=(t(245),function(){fe.a.mixin({toast:!0,position:"bottom-start",showConfirmButton:!1,timer:2e3}).fire({background:"#1A4492",type:"success",html:'<span style="color:white;margin-left:2%">Data saved successfully<span>'})}),xt=function(){var e=ce(),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=ce(),o=Object(Q.a)(c,2),m=o[0],s=o[1],u=ea(),d=Object(Q.a)(u,2),p=d[0],g=d[1],E=Ke((function(){l(),Ot()})),b=Object(Q.a)(E,3),h=b[0],f=b[2],v=Xe((function(){s(),Ot()})),y=Object(Q.a)(v,1)[0],O=Object(i.d)(Ae);return Object(n.useEffect)(p,[]),r.a.createElement(yt,{formKey:t,tableKey:m,createWarehouse:h,createWarehouseError:f,deleteWarehouse:y,warehouses:g,authUser:O})},Ct=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},formName:{marginBottom:e.spacing(3),marginTop:e.spacing(3)},helperText:{color:"red"},paper:{marginTop:e.spacing(10),marginBottom:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},formControl:{width:"100%"},form:{width:"90%",marginBottom:e.spacing(5)},submit:{width:"100%",margin:e.spacing(4,0,0)},large:{width:e.spacing(7),height:e.spacing(7)}}})),jt=t(20),Tt=t.n(jt),Nt=t(173),At=t.n(Nt),St=t(115),wt=t(48),kt=t(693),Dt=t(206),Wt=t.n(Dt),Rt={firstName:"",lastName:"",patronymic:"",email:"",city:"",street:"",house:"",apartment:"",position:[]},It=function(e){var a=e.onSubmit,t=e.errors,l=e.initial,c=void 0===l?Rt:l,o=Object(n.useState)(c),i=Object(Q.a)(o,2),m=i[0],s=i[1],p=$a()(!1,(function(e){e&&(A(),b(!1))})),g=Object(Q.a)(p,2),E=g[0],b=g[1],h=Object(n.useState)(""),f=Object(Q.a)(h,2),v=f[0],y=f[1],O=Object(n.useState)({date:"1970-01-01",changed:!1}),x=Object(Q.a)(O,2),C=x[0],j=x[1],T=Ct(),N=function(e){s(Object(d.a)({},m,Object(u.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){s(c)}),[c]);var A=function(){tt.ref("employes/".concat(E.name)).put(E).on("state_changed",(function(e){}),(function(e){console.error(e)}),(function(){tt.ref("employes").child(E.name).getDownloadURL().then((function(e){y(e)}))}))};return r.a.createElement(te.ValidatorForm,{noValidate:!0,onSubmit:function(e){e.preventDefault();var t={firstName:m.firstName,lastName:m.lastName,patronymic:m.patronymic,email:m.email,city:m.city,street:m.street,house:m.house,apartment:m.apartment,position:m.position,dateOfBirth:C.date,avatar:v};a(t)},className:T.form},r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(te.TextValidator,{required:!0,fullWidth:!0,name:"lastName",label:"Last name",type:"text",value:m.lastName,onChange:N,validators:["required","matchRegexp:[a-zA-Z]$","minStringLength:2","maxStringLength:30"],errorMessages:["this field is required","the value must contain only letters","the value must be at least 2 characters","the value must be no more than 30 characters"]})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(te.TextValidator,{required:!0,fullWidth:!0,label:"First name",name:"firstName",type:"text",value:m.firstName,onChange:N,validators:["required","matchRegexp:[a-zA-Z]$","minStringLength:2","maxStringLength:30"],errorMessages:["this field is required","the value must contain only letters","the value must be at least 2 characters","the value must be no more than 30 characters"]})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(te.TextValidator,{required:!0,fullWidth:!0,label:"Patronymic",name:"patronymic",type:"text",value:m.patronymic,onChange:N,validators:["required","matchRegexp:[a-zA-Z]$","minStringLength:2","maxStringLength:30"],errorMessages:["this field is required","the value must contain only letters","the value must be at least 2 characters","the value must be no more than 30 characters"]}))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(wt.a,{utils:St.a},r.a.createElement(kt.a,{required:!0,className:T.formControl,disableFuture:!0,value:C.date,onChange:function(e){j({date:e,changed:!0})},name:"dateOfBirth",openTo:"year",format:"dd/MM/yyyy",label:"Date of Birth",views:["year","month","date"],minDate:new Date("1960-01-01"),maxDate:new Date("2001-01-01")})),t&&!C.changed&&r.a.createElement(Na.a,{className:T.helperText},t.date)),r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(Ya.a,{className:T.formControl,required:!0},r.a.createElement(Da.a,null,"Role"),r.a.createElement(Ja.a,{multiple:!0,name:"position",value:m.position,onChange:N,input:r.a.createElement(Wa.a,{id:"select-multiple"})},r.a.createElement(Za.a,{value:"manager"},"Manager"),r.a.createElement(Za.a,{value:"operator"},"Operator"),r.a.createElement(Za.a,{value:"controller"},"Controller"))),t&&!m.position.length&&r.a.createElement(Na.a,{className:T.helperText},t.role)),r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(te.TextValidator,{required:!0,fullWidth:!0,name:"email",label:"Email",type:"text",value:m.email,onChange:N,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),t&&r.a.createElement(Na.a,{className:T.helperText},t.email))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(te.TextValidator,{required:!0,fullWidth:!0,name:"city",label:"City",type:"text",value:m.city,onChange:N,validators:["required","matchRegexp:[a-zA-Z]$","minStringLength:2","maxStringLength:30"],errorMessages:["this field is required","the value must contain only letters","the value must be at least 2 characters","the value must be no more than 30 characters"]}),t&&r.a.createElement(Na.a,{className:T.helperText},t.city)),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(te.TextValidator,{required:!0,fullWidth:!0,name:"street",label:"Street",type:"text",value:m.street,onChange:N,validators:["required","minStringLength:2","maxStringLength:30"],errorMessages:["this field is required","the value must be at least 2 characters","the value must be no more than 30 characters"]}),t&&r.a.createElement(Na.a,{className:T.helperText},t.street)),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(te.TextValidator,{validators:["required"],errorMessages:["this field is required"],fullWidth:!0,name:"house",value:m.house,label:"House number",onChange:N}),t&&r.a.createElement(Na.a,{className:T.helperText},t.house)),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(te.TextValidator,{fullWidth:!0,name:"apartment",value:m.apartment,label:"Apartment number",onChange:N,validators:["required"],errorMessages:["this field is required"]}),t&&r.a.createElement(Na.a,{className:T.helperText},t.apartment))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(Ia,{setAvatar:b})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{color:"secondary",variant:"square",src:v,className:T.large},r.a.createElement(Wt.a,null)))),r.a.createElement(Tt.a,{item:!0,xs:12,sm:12},r.a.createElement(At.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:T.submit},"Submit")))},Pt=function(){var e=ce(),a=Object(Q.a)(e,2),t=a[0],n=a[1],l=De((function(){Ot(),n()})),c=Object(Q.a)(l,3),o=c[0],i=c[2];return r.a.createElement(It,{key:t,onSubmit:o,errors:i})},Bt=function(){var e=Ct();return r.a.createElement(K.a,{component:"main",maxWidth:"md"},r.a.createElement(J.a,null),r.a.createElement(re.a,{className:e.paper},r.a.createElement(H.a,{component:"h1",variant:"h5",className:e.formName},"New user information"),r.a.createElement(Pt,null)))},Vt=t(291),Lt=t.n(Vt),Ft=t(439);function Mt(){var e=Ut();return r.a.createElement(K.a,{maxWidth:"xl"},r.a.createElement(J.a,null),r.a.createElement("main",null,r.a.createElement("div",{className:e.heroContent},r.a.createElement(K.a,{maxWidth:"xl"},window.innerWidth>1330?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{align:"center",color:"primary",component:"p",className:e.welcomeText2},"Welcome to the system!"),r.a.createElement(H.a,{align:"center",color:"primary",component:"p",className:e.welcomeText},"Welcome to the system!")):r.a.createElement(H.a,{align:"center",color:"primary",component:"p",className:e.welcomeText3},"Welcome to the system!"))),r.a.createElement(K.a,{className:e.cardGrid,maxWidth:"md"},r.a.createElement(G.a,{mt:window.innerWidth>2500?50:10,display:"flex",justifyContent:"center"},r.a.createElement("img",{src:Ft,alt:Lt.a,style:{width:window.innerWidth>1800?"35vw":window.innerWidth>1200?"550px":window.innerWidth>900?"45vw":"60vw"}})))))}var Ut=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},heroContent:{padding:e.spacing(5,0,3)},heroButtons:{marginTop:e.spacing(4)},welcomeTitle:{fontSize:"2.5em"},welcomeText:{position:"absolute",top:"50%",right:"2%",transform:"rotate(90deg)",fontSize:"3em",fontWeight:"900"},welcomeText2:{position:"absolute",top:"50%",left:"2%",transform:"rotate(-90deg)",fontSize:"3em",fontWeight:"900"},welcomeText3:{fontSize:"1.8em",fontWeight:"900"}}})),qt=t(294),zt=t.n(qt),Gt=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},fab:{marginTop:e.spacing(2),marginBottom:e.spacing(10),margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},paperForm:{padding:e.spacing(3,3,3,3),marginBottom:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"}}})),Qt=function(e){var a=e.onSubmit,t=e.errors,l=Object(n.useState)({email:"",password:"",errors:{}}),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=function(e){i(Object(d.a)({},o,Object(u.a)({},e.target.name,e.target.value)))},s=Gt();return r.a.createElement(te.ValidatorForm,{className:s.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var t={email:o.email,password:o.password};a(t)}},r.a.createElement(te.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:m,value:o.email,validators:["required","isEmail","minStringLength:2","maxStringLength:30"],errorMessages:["this field is required","email is not valid","the value must be at least 2 characters","the value must be no more than 30 characters"]}),r.a.createElement(te.TextValidator,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:o.password,autoComplete:"current-password",validators:["required"],errorMessages:["this field is required"],onChange:m}),r.a.createElement(G.a,{mt:1},r.a.createElement("span",{style:{color:"red"}},t.email),r.a.createElement("span",{style:{color:"red"}},t.password)),r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},"Sign In"))},Zt=function(){var e=Object(i.c)(),a=Object(i.d)(we),t=Object(n.useCallback)((function(a){return function(e){return function(a,t){L.a.post("".concat(M,"api/login/"),a).then((function(a){var t=a.data.token;localStorage.setItem("jwtToken",t),F(t);var n=B()(t);e(U(n))})).catch((function(a){e({type:p,payload:a.response.data})}))}}(e)(a)}),[e]);return r.a.createElement(Qt,{onSubmit:t,errors:a})},Jt=t(89),Yt=t(90),_t=t(92),Ht=t(91),Kt=t(93),Xt=t(293),$t=t.n(Xt),en=function(e){function a(){return Object(Jt.a)(this,a),Object(_t.a)(this,Object(Ht.a)(a).apply(this,arguments))}return Object(Kt.a)(a,e),Object(Yt.a)(a,[{key:"render",value:function(){var e=this.props,a=e.href,t=Object(pa.a)(e,["href"]);return r.a.createElement(o.b,Object.assign({to:a},t))}}]),a}(n.Component),an=function(e){return r.a.createElement($t.a,Object.assign({component:en},e))},tn=function(){var e=Gt();return r.a.createElement(K.a,{component:"main",maxWidth:"sm"},r.a.createElement(J.a,null),r.a.createElement(G.a,{className:e.paper},r.a.createElement(an,{variant:"button",color:"primary",to:"/",className:e.link},r.a.createElement(pt.a,{variant:"extended","aria-label":"delete",color:"primary",className:e.fab},r.a.createElement(zt.a,{className:e.extendedIcon}),"Go to main page")),r.a.createElement(re.a,{className:e.paperForm},r.a.createElement(Z.a,{className:e.avatar},r.a.createElement(_.a,null)),r.a.createElement(G.a,{mt:2,mb:2},r.a.createElement(H.a,{component:"h1",variant:"h4"},"Sign in form")),r.a.createElement(Zt,null))))},nn=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"whiteSmoke"},ul:{margin:0,padding:0},li:{listStyle:"none"}},heroContent:{marginTop:e.spacing(3),padding:e.spacing(3,3,3,3)},char:{marginTop:e.spacing(5)},time:{padding:e.spacing(3,0,6),height:"100%",display:"flex",flexDirection:"column"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},error:{marginTop:15,color:"red"},input:{marginLeft:8,flex:1},iconButton:{padding:10},button:{marginTop:e.spacing(3)},buttonPdf:{marginTop:e.spacing(1),marginBottom:e.spacing(2),marginLeft:e.spacing(3)}}}));var rn=function(e){var a=e.fromDate,t=e.handleFromDateChange,n=e.toDate,l=e.handleToDateChange;return console.log(a,n),r.a.createElement(wt.a,{utils:St.a},r.a.createElement(kt.a,{disableFuture:!0,openTo:"year",format:"dd/MM/yyyy",label:"from",views:["year","month","date"],value:a,onChange:t,style:{marginTop:"2%"}}),r.a.createElement(kt.a,{disableFuture:!0,openTo:"year",format:"dd/MM/yyyy",label:"to",views:["year","month","date"],value:n,onChange:l,style:{marginTop:"7%"}}))},ln=t(295),cn=t(297),on=t.n(cn);function mn(e){var a=e.error,t=e.fromDate,n=e.toDate,l=e.statistic,c=nn();if(l.created&&!a){var o={labels:["From ".concat(Et()(t).format("L"),"                     To ").concat(Et()(n).format("L"))],datasets:[{label:"Created",backgroundColor:"rgba(75,192,192,0.4)",data:l.created},{label:"Deleted",backgroundColor:"red",data:l.deleted}]};return r.a.createElement("div",{className:c.char},r.a.createElement(ln.a,{options:{maintainAspectRatio:!1},data:o}),r.a.createElement(ee.a,{variant:"contained",color:"default",className:c.buttonPdf,onClick:function(e){e.preventDefault();var a=new on.a;a.text("\n         ************************************************************************************\n       \n           From: ".concat(t,"\n                                 \n           To: ").concat(n,"\n                                        \n           Created accounts: ").concat(l.created[0],"\n                                        \n           Deleted accounts: ").concat(l.deleted[0],"\n                                    \n         ************************************************************************************\n                \n                "),1,1),a.save("statistic.pdf")}},"Download PDF"))}return null}var sn=Object(i.b)((function(e){return{auth:e.auth,errors:e.errors,adminCompanyStatistic:e.adminCompanyStatistic}}),{getStatistic:function(e){return function(a){L.a.post("".concat(M,"api/companyAdminsStatistic/"),e).then((function(e){a({type:"GET_CURRENT_STATISTIC",payload:e.data})})).then((function(){a({type:p,payload:{}})})).catch((function(e){e.response&&a({type:p,payload:e.response.data})}))}}})((function(e){var a=nn(),t=Object(n.useState)(new Date("2014-08-18T21:11:54")),l=Object(Q.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(new Date),m=Object(Q.a)(i,2),s=m[0],u=m[1],d=Object(n.useState)(e.adminCompanyStatistic),p=Object(Q.a)(d,2),g=p[0],E=p[1];return Object(n.useEffect)((function(){E(e.adminCompanyStatistic)})),r.a.createElement(K.a,{maxWidth:"md",component:"main"},r.a.createElement(J.a,null),r.a.createElement(re.a,{className:a.heroContent},r.a.createElement(H.a,{variant:"h5",align:"center",color:"textSecondary",component:"p"},"Show report about companies"),r.a.createElement(K.a,{fixed:!0,className:a.time},r.a.createElement(rn,{fromDate:c,handleFromDateChange:o,toDate:s,handleToDateChange:u}),r.a.createElement(G.a,{className:a.error},e.errors.date),r.a.createElement(ee.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){e.getStatistic({from:c,to:s})}},"Show statistic"))),r.a.createElement(mn,{error:e.errors.date,fromDate:c,toDate:s,statistic:g}))})),un=t(668),dn=function(e){switch(e.role){case"mainAdmin":return[{name:"Services",link:"/serviceManager"},{name:"Create company admin",link:"/newCompanyAdmin"},{name:"Companies",link:"/companiesList"},{name:"Reports",link:"/reports"}];case"companyAdmin":return[{name:"Create new employee",link:"/createUser"},{name:"My warehouses",link:"/myWarehouses"},{name:"Company employees",link:"/employees"},{name:"Service Now",link:"/serviceNow"}];case"employee":var a=[];return e.position.includes("manager")&&(a=a.concat([{name:"Out TTN registration",link:"/outTtnRegister"},{name:"Warehousing",link:"/warehousing"},{name:"Warehouses Info",link:"/warehausesInfo"}])),e.position.includes("operator")&&(a=a.concat([{name:"TTN registration",link:"/ttnRegister"},{name:"All carriers",link:"/allCarrier"},{name:"Check Ttn",link:"/checkTtn"}])),e.position.includes("controller")&&(a=a.concat([{name:"TTN control",link:"/controlTTN"}])),a;default:return null}},pn=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},appBar:{borderBottom:"5px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:2},link:{margin:e.spacing(3,2),borderColor:"#EBF1F9",color:"#EBF1F9",letterSpacing:"1.5px",fontSize:12},icon:{margin:e.spacing(1),width:"25px"}}})),gn=t(261),En=function(e){var a=e.user,t=e.logout,n=pn(),l=dn(a);return r.a.createElement(sa.a,{position:"static",color:"default",elevation:0,className:n.appBar},r.a.createElement(un.a,{className:n.toolbar},r.a.createElement(G.a,{mt:1.5,className:n.toolbarTitle,tyle:{display:"flex",flexAlign:"center"}},r.a.createElement(an,{to:"/Home",variant:"h6",style:{textDecoration:"none"}},r.a.createElement("img",{src:gn,alt:"logo",width:"128px"}))),r.a.createElement((function(e){var a=e.linksArray.map((function(e){return r.a.createElement(an,{key:e.name,variant:"button",to:e.link,className:n.link},e.name)}));return r.a.createElement("nav",null,a)}),{linksArray:l}),r.a.createElement(G.a,{component:an,href:"/me",display:"flex",alignItems:"center"},r.a.createElement("img",{src:a.avatar,className:n.icon}),r.a.createElement(H.a,{variant:"h6",color:"inherit",noWrap:!0},a.email)),r.a.createElement(G.a,{ml:3},r.a.createElement(ee.a,{color:"default",variant:"outlined",size:"small",className:n.link,onClick:t},"Logout"))))},bn=t(674),hn=t(659),fn=t(298),vn=t.n(fn),yn=t(328),On=t(261),xn=Object(X.a)((function(e){return{title:{flexGrow:1,marginTop:"7px"},userInfo:{marginTop:e.spacing(3),borderTop:"2px solid #E8E9E9"}}})),Cn=function(e){var a=e.user,t=e.logout,l=xn(),c=Object(n.useState)(null),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=Boolean(i),u=dn(a),d=function(){m(null)};return r.a.createElement(bn.a,{position:"static"},r.a.createElement(un.a,null,r.a.createElement(H.a,{variant:"h6",className:l.title},r.a.createElement(an,{to:"/Home",style:{textDecoration:"none"}},r.a.createElement("img",{src:On,alt:"logo",width:"96px"}))),r.a.createElement(hn.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){m(e.currentTarget)}},r.a.createElement(vn.a,null)),r.a.createElement(yn.a,{anchorEl:i,id:"menu-appbar",anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:d},r.a.createElement((function(e){var n=e.linksArray.map((function(e){return r.a.createElement(Za.a,{key:e.name},r.a.createElement(an,{variant:"button",to:e.link,onClick:d},e.name))}));return n.push(r.a.createElement(Za.a,{key:a.email,className:l.userInfo},r.a.createElement(an,{to:"/me",onClick:d},a.email))),n.push(r.a.createElement(Za.a,{key:"login"},r.a.createElement(ee.a,{style:{width:"100%"},color:"primary",variant:"outlined",size:"small",onClick:t},"Logout"))),r.a.createElement(r.a.Fragment,null,n)}),{linksArray:u}))))},jn=function(e){var a=e.screenSize,t=e.user,n=e.logout;return r.a.createElement(r.a.Fragment,null,a>1250?r.a.createElement(En,{user:t,logout:n}):r.a.createElement(Cn,{user:t,logout:n}))},Tn=function(){var e=Object(i.c)(),a=Object(i.d)(Se),t=Object(n.useCallback)(q(e),[e]),l=Object(n.useState)(0),c=Object(Q.a)(l,2),o=c[0],m=c[1];return Object(n.useEffect)((function(){m(window.innerWidth)})),window.addEventListener("resize",(function(){m(window.innerWidth)})),r.a.createElement(jn,{screenSize:o,user:a,logout:t})},Nn=t(675),An=t(299),Sn=t.n(An),wn=t(300),kn=t.n(wn),Dn=t(301),Wn=t.n(Dn),Rn=function(){var e=In();return r.a.createElement("footer",null,r.a.createElement(G.a,{className:e.footerWrapper,display:"flex",alignItems:"center",justifyContent:"space-between"},r.a.createElement(G.a,null,r.a.createElement(H.a,{variant:"body2",align:"center"},"Copyright \xa9 ",r.a.createElement(Nn.a,{color:"inherit",href:"https://github.com/Kvinto1986/Online-stock-frontend/"},"React Team ",(new Date).getFullYear()))),r.a.createElement(G.a,{display:"flex",alignItems:"center"},r.a.createElement(G.a,{ml:3,display:"flex",alignItems:"center"},r.a.createElement(G.a,{ml:2},r.a.createElement(Nn.a,{color:"inherit",href:"https://github.com/Kvinto1986/Online-stock-frontend/"},r.a.createElement(Sn.a,null))),r.a.createElement(G.a,{ml:2},r.a.createElement(Nn.a,{color:"inherit",href:"https://github.com/Kvinto1986/Online-stock-frontend/"},r.a.createElement(kn.a,null))),r.a.createElement(G.a,{ml:2},r.a.createElement(Nn.a,{color:"inherit",href:"https://github.com/Kvinto1986/Online-stock-frontend/"},r.a.createElement(Wn.a,null)))))))},In=Object(X.a)((function(){return{footerWrapper:{padding:"15px",background:"#3e43a1",color:"white"},social__text:{margin:0}}})),Pn=Object(X.a)((function(e){return{root:{display:"flex",flexDirection:"column"},rootPaper:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},main:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},footer:{padding:e.spacing(2),marginTop:"auto",backgroundColor:"white"},card:{marginTop:e.spacing(5)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:20},pos:{marginBottom:12},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),Bn=t(332),Vn=t(676),Ln=t(174),Fn=t.n(Ln),Mn=t(302),Un=t.n(Mn),qn=Object(i.b)((function(e){return{auth:e.auth,errors:e.errors,companiesList:e.companiesList,currentCompany:e.currentCompany}}),{getCompaniesList:function(){return function(e){L.a.get("".concat(M,"api/companyadmins/")).then((function(a){e({type:"GET_CURRENT_COMPANIES_LIST",payload:a.data})})).then((function(){e({type:p,payload:{}})})).catch((function(a){a.response&&e({type:p,payload:a.response.data})}))}},getCompany:function(e,a){return function(t){L.a.get("".concat(M,"api/companyAdmins/").concat(e)).then((function(e){t({type:"GET_CURRENT_COMPANY",payload:e.data}),a(e.data)})).then((function(){t({type:p,payload:{}})})).catch((function(e){e.response&&t({type:p,payload:e.response.data})}))}},changeStatus:function(e,a,t){return function(n){L.a.post("".concat(M,"api/companyAdmins/").concat(e),a).then((function(e){n({type:"GET_CURRENT_COMPANY",payload:e.data}),t()}))}}})((function(e){var a=Pn(),t=Object(n.useState)(e.currentCompany.email),l=Object(Q.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(e.currentCompany),m=Object(Q.a)(i,2),s=m[0],u=m[1],d=function(){e.changeStatus(e.currentCompany.email,{active:!e.currentCompany.active},Ot)};return Object(n.useEffect)((function(){return u(e.currentCompany)}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(J.a,null),r.a.createElement(K.a,{component:"main",className:a.main,maxWidth:"sm"},r.a.createElement(H.a,{variant:"h5",align:"center",color:"textSecondary",component:"p",className:a.main},"Find company by email"),r.a.createElement(re.a,{className:a.rootPaper},r.a.createElement(Bn.a,{value:c,className:a.input,placeholder:"Search...",inputProps:{"aria-label":"search google maps"},onChange:function(e){o(e.target.value)}}),r.a.createElement(Vn.a,{className:a.divider,orientation:"vertical"}),r.a.createElement(ee.a,{onClick:function(){e.getCompany(c,u)}},r.a.createElement(hn.a,{className:a.iconButton,"aria-label":"search"},r.a.createElement(Fn.a,null)))),r.a.createElement(G.a,{mt:1},r.a.createElement("span",{style:{color:"red"}},e.errors.user)),s.email?r.a.createElement(xa.a,{className:a.card},r.a.createElement(ya.a,null,r.a.createElement(H.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"Company name: ",r.a.createElement("span",{className:a.bullet},e.currentCompany.company)),r.a.createElement(H.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"Company admin email: ",r.a.createElement("span",{className:a.bullet},e.currentCompany.email)),r.a.createElement(H.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"Creation date: ",r.a.createElement("span",{className:a.bullet},r.a.createElement(Un.a,{format:"D MMM YYYY",withTitle:!0},e.currentCompany.date))),r.a.createElement(H.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"Status: ",r.a.createElement("span",{className:a.bullet},e.currentCompany.active?"Active":"Not active"))),r.a.createElement(Oa.a,null,e.currentCompany.active?r.a.createElement(ee.a,{size:"small",variant:"contained",color:"secondary",onClick:d},"Deactivate"):r.a.createElement(ee.a,{size:"small",variant:"contained",color:"primary",onClick:d},"Activate"))):null))})),zn=t(303),Gn=t.n(zn),Qn=(t(547),t(548),Object(X.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white},ul:{margin:0,padding:0},li:{listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{borderColor:"#EBF1F9",color:"#EBF1F9",letterSpacing:"1.5px",fontSize:12},heroContent:{padding:"45px 15px"},descriptionText:{fontSize:"1.5em"},cardHeader:{backgroundColor:e.palette.grey[200]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(u.a)({position:"bottom",borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(10)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}))),Zn=t(304),Jn=t.n(Zn),Yn=t(305),_n=t.n(Yn),Hn=t(306),Kn=t.n(Hn),Xn=t(307),$n=t.n(Xn),er=t(308),ar=t.n(er),tr=t(309),nr=t.n(tr);function rr(){var e=Qn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(bn.a,{position:"static",color:"default",elevation:0,className:e.appBar},r.a.createElement(un.a,{className:e.toolbar},r.a.createElement(H.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle},"\u2022 Warehousing \u2022"),r.a.createElement(an,{variant:"button",color:"primary",to:"/login",className:e.link},r.a.createElement(ee.a,{color:"primary",variant:"outlined",className:e.link},"Login")))),r.a.createElement(G.a,{maxWidth:"xl"},r.a.createElement("img",{src:Jn.a,style:{width:"100%"}})),r.a.createElement(K.a,{component:"main",className:e.heroContent},r.a.createElement(H.a,{component:"h3",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0},"Industrial and Commercial Warehousing"),r.a.createElement(G.a,{mt:4},r.a.createElement(H.a,{align:"center",color:"textSecondary",component:"p",className:e.descriptionText},"We provide the simple UI for your warehouse company employees. ",r.a.createElement("br",null),"Easy to manage, to youse"))),r.a.createElement(K.a,{maxWidth:"md",component:"main",className:e.heroContent},r.a.createElement(G.a,null,r.a.createElement(Gn.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},r.a.createElement("div",null,r.a.createElement("img",{src:_n.a,style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("img",{src:Kn.a,style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("img",{src:$n.a,style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("img",{src:ar.a,style:{width:"100%"}})),r.a.createElement("div",null,r.a.createElement("img",{src:nr.a,style:{width:"100%"}}))))))}var lr=t(677),cr=Object(X.a)((function(e){return{extendedIcon:{marginRight:e.spacing(1)},root:{width:"100%",marginTop:e.spacing(3)},table:{minWidth:500},tableWrapper:{overflowX:"auto",position:"relative"},add_carrier:{display:"flex",alignItems:"center",justifyContent:"flex-end"},add_btn:{marginRight:"20px"},nav:{flexShrink:0,color:e.palette.text.secondary,marginLeft:e.spacing(2.5)}}})),or=t(673),ir=Object(X.a)((function(e){return{progress:{position:"absolute",top:"50%",left:"50%"}}}));var mr=function(){var e=ir();return r.a.createElement(or.a,{className:e.progress})},sr=t(310),ur=t.n(sr),dr=t(311),pr=t.n(dr),gr=t(312),Er=t.n(gr),br=t(313),hr=t.n(br);var fr=function(e){var a=cr(),t=e.count,n=e.page,l=e.rowsPerPage,c=e.onChangePage;return r.a.createElement("div",{className:a.nav},r.a.createElement(hn.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page"},r.a.createElement(ur.a,null)),r.a.createElement(hn.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page"},r.a.createElement(pr.a,null)),r.a.createElement(hn.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(t/l)-1,"aria-label":"next page"},r.a.createElement(Er.a,null)),r.a.createElement(hn.a,{onClick:function(e){c(e,Math.max(0,Math.ceil(t/l)-1))},disabled:n>=Math.ceil(t/l)-1,"aria-label":"last page"},r.a.createElement(hr.a,null)))},vr=t(315),yr=t.n(vr),Or=t(314),xr=t.n(Or),Cr=function(e){var a=e.row,t=e.tableCells,n=e.handleEdit,l=e.handleNewCarrier,c=e.removeItem,o=cr(),i=a.id,m=a.company,s=a.email,u=a.tel;return r.a.createElement(st.a,null,t.map((function(e){var t=e.typeComponent,n=e.float,l=e.scope,c=e.name,o=e.type,i=e.action;return r.a.createElement(ot.a,{key:c,component:t,align:n,scope:l},a.isDisabled?r.a.createElement("input",{type:o,name:c,placeholder:"email"===c?s:"carrier"===c?m:u,onChange:i}):r.a.createElement("span",null,"email"===c?s:"carrier"===c?m:u))})),r.a.createElement(ot.a,{align:"right"},a.isDisabled?r.a.createElement(pt.a,{color:"primary","aria-label":"add",className:o.add_btn,onClick:l(i)},r.a.createElement(xr.a,null)):r.a.createElement(pt.a,{"aria-label":"edit",className:o.add_btn,onClick:n(i)},r.a.createElement(yr.a,null)),r.a.createElement(pt.a,{id:a.id,onClick:c(i),"aria-label":"delete",className:o.fab,color:"secondary"},r.a.createElement(dt.a,null))))};var jr=function(e){var a=e.allCarriers,t=e.delCarrier,l=e.editCarrier,c=cr(),o=Object(n.useState)([]),i=Object(Q.a)(o,2),m=i[0],s=i[1],p=Object(n.useState)(0),g=Object(Q.a)(p,2),E=g[0],b=g[1],h=Object(n.useState)(5),f=Object(Q.a)(h,2),v=f[0],y=f[1],O=Object(n.useState)(!1),x=Object(Q.a)(O,2),C=x[0],j=x[1],T=Object(n.useState)({}),N=Object(Q.a)(T,2),A=N[0],S=N[1],w=v-Math.min(v,m.length-E*v);Object(n.useEffect)((function(){s(a),j(!0)}),[a]);var k=function(e){return function(){t(e)}},D=function(e){return function(){m.forEach((function(e,a){return m[a].isDisabled=!1})),m.find((function(a,t){return a.id===e})).isDisabled=!0,s(Object(fa.a)(m))}},W=function(e){S(Object(d.a)({},A,Object(u.a)({},e.target.name,e.target.value)))},R=function(e){return function(){var a=function(e,a){var t,n=A.carrier,r=A.email,l=A.tel,c=null;c=e.find((function(e){return e.id===a})),t=e.findIndex((function(e){return e.id===a}));var o={};n&&(c.company=n,o.company=n),r&&(c.email=r,o.email=r),l&&(c.tel=l,o.tel=l),c.isDisabled=!1;for(var i=[],m=0;m<e.length;m++)m===t?i.push(c):i.push(e[m]);return s(i),o}(m,e);l(a,e)}},I=[{type:"text",name:"carrier",typeComponent:"th",scope:"row",action:W},{type:"text",name:"email",float:"right",action:W},{type:"number",name:"tel",float:"right",action:W}];return r.a.createElement(re.a,{className:c.root},r.a.createElement("div",{className:c.tableWrapper},r.a.createElement(lt.a,{className:c.table},r.a.createElement(ct.a,null,r.a.createElement(st.a,null,[{id:1,label:"Carrier"},{id:2,label:"Email",float:"right"},{id:3,label:"Phone",float:"right"},{id:4,float:"right"}].map((function(e){return r.a.createElement(ot.a,{key:e.id,align:e.float}," ",e.label," ")}))),C?m.map((function(e){return r.a.createElement(Cr,{key:e.id,tableCells:I,row:e,handleNewCarrier:R,handleEdit:D,removeItem:k})})):r.a.createElement(mr,null),w>0&&r.a.createElement(st.a,{style:{height:35*w}},r.a.createElement(ot.a,{colSpan:6}))),r.a.createElement(lr.a,null,r.a.createElement(st.a,null,r.a.createElement(mt.a,{rowsPerPageOptions:[5,10],colSpan:3,count:m.length,rowsPerPage:v,page:E,onChangePage:function(e,a){b(a)},onChangeRowsPerPage:function(e){y(parseInt(e.target.value,10)),b(0)},ActionsComponent:fr}))))))},Tr=function(){var e=Le(),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=Ue(),o=Object(Q.a)(c,1)[0],i=Me(),m=Object(Q.a)(i,1)[0];return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(jr,{delCarrier:o,editCarrier:m,allCarriers:Object.values(l)})},Nr=t(702),Ar=t(678),Sr=t(697),wr=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},root:{display:"flex",flexDirection:"column",width:"90%",marginLeft:"5%"},formControl:{width:"100%",marginBottom:"10%"},table:{marginTop:e.spacing(3),minWidth:700},rootExpansion:{marginTop:"2%",display:"flex",flexDirection:"column",width:"40%",marginLeft:"30%"},rootPaper:{display:"flex",alignItems:"center",width:"100%",marginBottom:"2%"},form:{width:"100%"},main:{marginTop:e.spacing(3),marginBottom:e.spacing(5)},footer:{padding:e.spacing(2),marginTop:"auto",backgroundColor:"white"},card:{marginTop:e.spacing(5)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:20},pos:{marginBottom:12},input:{marginBottom:"3%",marginTop:"3%",width:"80%",marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},button:{width:"100%",marginTop:"5%"},error:{marginTop:"2%",marginLeft:"1.5%",color:"red"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},tel:{width:"100% !important",background:"none !important"},drop:{background:"none !important",border:"1px solid #D4CDCD !important"},paperTTN:{marginTop:"2%"},TTNformHeader:{display:"flex",alignContent:"center",justifyContent:"center",marginBottom:"2%"},TTNform:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"center",justifyContent:"center",verticalAlign:"center",marginBottom:"3%",marginTop:"3%"},TTNhead:{paddingTop:"12%"},gridItem:{marginLeft:"3%"},formContainer:{marginTop:"-5%"},TTNheadEnd:{paddingTop:"6%",marginLeft:"13%"},SuccessPaper:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignContent:"center",verticalAlign:"center",marginTop:"15%"},validBtn:{border:"1px solid black",margin:e.spacing(1)},wrap:{padding:"5%",boxSizing:"border-box"},wrapper:{display:"flex",flexDirection:"column"},carNumber:{display:"flex",alignItems:"center;"},carSelect:{width:"200px",marginRight:"10px"},formH1:{marginBottom:e.spacing(3),textAlign:"center",marginTop:e.spacing(3)},formCarrier:{backgroundColor:"white",marginTop:e.spacing(3),padding:e.spacing(3,5,5,5)}}})),kr=t(316),Dr=t.n(kr),Wr=(t(549),function(e){var a=e.onSubmit,t=e.error,l=e.id,c=Object(n.useState)({email:"",tel:"",countryCode:"",company:""}),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=function(e){m(Object(d.a)({},i,Object(u.a)({},e.target.name,e.target.value)))},p=wr();return r.a.createElement(K.a,{component:"main",maxWidth:"sm",className:p.formCarrier},r.a.createElement(H.a,{component:"h1",variant:"h5",className:p.formH1},"Register new Carrier"),r.a.createElement(te.ValidatorForm,{className:p.form,onSubmit:function(){a(Object(d.a)({unp:l},i))}},r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(te.TextValidator,{disabled:!0,fullWidth:!0,label:"License number",required:!0,name:"unp",value:l}))),r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{pattern:/.*/,fullWidth:!0,required:!0,label:"Email",name:"email",error:t,value:i,validators:["isEmail"],errorMessages:["email is not valid"],handleChange:m}))),r.a.createElement(ae.a,{container:!0,spacing:5},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(Dr.a,{required:!0,inputClass:p.tel,buttonClass:p.drop,defaultCountry:"by",value:i.tel,inputExtraProps:{name:"tel",onChange:s}}))),r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{pattern:/.*/,fullWidth:!0,label:"Company",name:"company",error:t,value:i,validators:["minStringLength:2","maxStringLength:30"],errorMessages:["the value must be at least 2 characters","the value must be no more than 30 characters"],handleChange:m}))),r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(Ya.a,{className:p.formControl},r.a.createElement(Da.a,{htmlFor:"outlined-age-simple"},"Country code"),r.a.createElement(Ja.a,{required:!0,onChange:s,value:i.countryCode,inputProps:{name:"countryCode"}},r.a.createElement(Za.a,{value:"Belarus"},"BY"),r.a.createElement(Za.a,{value:"Ukraine"},"UA"),r.a.createElement(Za.a,{value:"Poland"},"PL"))))),r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit},"Submit")))}),Rr=function(e){var a=e.onSubmit,t=e.error,l=e.id,c=Object(n.useState)({name:"",surname:""}),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=wr();return r.a.createElement(n.Fragment,null,r.a.createElement(K.a,{component:"main",maxWidth:"xs",className:s.formCarrier},r.a.createElement(J.a,null),r.a.createElement("div",{className:s.paper},r.a.createElement(H.a,{component:"h1",variant:"h5",className:s.formH1},"Register new Driver"),r.a.createElement(te.ValidatorForm,{className:s.form,onSubmit:function(){a(Object(d.a)({license:l},i))}},r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(te.TextValidator,{disabled:!0,fullWidth:!0,label:"Driver license number",required:!0,name:"license",value:l}))),r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:2,max:30,pattern:/^[a-zA-Z]*$/,fullWidth:!0,required:!0,label:"Name",name:"name",error:t,value:i,handleChange:m}))),r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:2,max:30,pattern:/^[a-zA-Z]*$/,fullWidth:!0,required:!0,label:"Surname",name:"surname",error:t,value:i,handleChange:m}))),r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},"Submit")))))},Ir=t(327),Pr=function(e){var a=e.cargoList,t=e.handleDeleteProduct,n=e.offButton,l=wr();return r.a.createElement(bt.a,{component:re.a},r.a.createElement(lt.a,{className:l.table,size:"small"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{colSpan:5,align:"center"},r.a.createElement(H.a,{color:"textSecondary",component:"h1",variant:"h5",style:{textAlign:"center"}},"Cargo table"))),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center"},"Number"),r.a.createElement(ot.a,{align:"center"},"Type"),r.a.createElement(ot.a,{align:"center"},"Amount"),r.a.createElement(ot.a,{align:"center"},"Boxing"),!n&&r.a.createElement(ot.a,{align:"center"},"Action"))),r.a.createElement(ct.a,null,a.map((function(e,a){return r.a.createElement(st.a,{key:e.type+a},r.a.createElement(ot.a,{align:"center"},e.id),r.a.createElement(ot.a,{align:"center"},e.name),r.a.createElement(ot.a,{align:"center"},e.amount),r.a.createElement(ot.a,{align:"center"},e.package),!n&&r.a.createElement(ot.a,{align:"center"},r.a.createElement(pt.a,{size:"small",color:"default",onClick:function(){return t(a)}},r.a.createElement(dt.a,null))))})))))},Br=t(239),Vr=function(e){var a=e.list,t=e.searchItem,n=e.setValue;return r.a.createElement(Pa.a,{options:a,onChange:function(e){n(e.target.innerHTML)},renderInput:function(e){return r.a.createElement(Br.a,Object.assign({},e,{margin:"normal",placeholder:"Search "+t,fullWidth:!0}))}})},Lr=[{value:"BLR",label:"BLR"},{value:"RUS",label:"RUS"},{value:"PL",label:"PL"}],Fr=function(e){var a=e.ttnNumber,t=e.onSubmit,l=e.error,c=e.authUser,o=e.carrier,i=e.driver,m=e.services,s=e.order,p=Object(n.useState)({number:a,carrier:{unp:o.id,tel:o.tel,company:o.company},driver:{name:"".concat(i.name," ").concat(i.surname),license:i.id},registrar:{name:"".concat(c.firstName," ").concat(c.patronymic," ").concat(c.lastName),email:c.email},carNumber:"",warehouseCompany:c.company,owner:""}),g=Object(Q.a)(p,2),E=g[0],b=g[1],h={BLR:{value:"3434AT-1",pattern:/\d{4}\D{2}\-\d{1}/},RUS:{value:"C065MK78",pattern:/\D{1}\d{3}\D{2}\d{2}/},PL:{value:"SO9777G",pattern:/\D{2}\d{4}\D{1}/}},f=Object(n.useState)([]),v=Object(Q.a)(f,2),y=v[0],O=v[1],x=Object(n.useState)(""),C=Object(Q.a)(x,2),j=C[0],T=C[1],N=Object(n.useState)(""),A=Object(Q.a)(N,2),S=A[0],w=A[1],k=Object(n.useState)({value:"BLR",label:"BLR"}),D=Object(Q.a)(k,2),W=D[0],R=D[1],I=Object(n.useState)(!1),P=Object(Q.a)(I,2),B=P[0],V=P[1],L=Object(n.useState)({package:"",amount:"",name:"",id:""}),F=Object(Q.a)(L,2),M=F[0],U=F[1],q=function(e){var a=Object(fa.a)(y);a.splice(e,1),O(Object(fa.a)(a))},z=wr(),Z=Object.keys(m);return r.a.createElement(K.a,{component:"main",maxWidth:"xl"},r.a.createElement(J.a,null),r.a.createElement(G.a,{mt:5,mb:5},r.a.createElement(re.a,{className:z.root},r.a.createElement(H.a,{variant:"h4",component:"h4",style:{width:"100%",textAlign:"center",marginTop:"2%"}},"International waybill \u2116",E.number),r.a.createElement(te.ValidatorForm,{className:z.TTNform,onSubmit:function(e){e.preventDefault();var a=Object(d.a)({},E);if(a.products=s?s.cargo:y,a.service=j,!h[W.value].pattern.test(a.carNumber))return V(!0),!1;V(!1),t(a)}},r.a.createElement(K.a,{fixed:!0},r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(ka,{min:10,max:10,pattern:/^[0-9]*$/,fullWidth:!0,label:"TTN number",required:!0,disabled:s,name:"number",error:l,value:E,handleChange:b,helperClass:z.error})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},s?r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,value:"".concat(s.service),label:"Service name"}):r.a.createElement(Vr,{list:Z,searchItem:"services",setValue:T})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},s?r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,value:"".concat(s.ownerInfo),label:"Owner information"}):r.a.createElement(ka,{min:2,max:30,pattern:/.*/,fullWidth:!0,label:"Owner information",required:!0,name:"owner",error:l,value:E,handleChange:b,helperClass:z.error}))),r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Carrier UNP",value:" ".concat(E.carrier.unp)})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Phone number",value:"".concat(E.carrier.tel)})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Company Name",value:"".concat(E.carrier.company)}))),r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,sm:2,xs:12},r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Driver",value:"Name: ".concat(E.driver.name)})),r.a.createElement(ae.a,{item:!0,sm:2,xs:12},r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Driver license",value:"Driver license \u2116".concat(E.driver.license)})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},s?r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Number of the car",value:"".concat(s.carNumber)}):r.a.createElement("div",{className:z.carNumber},r.a.createElement(Ir.a,{className:z.carSelect,onChange:function(e){R(e)},value:W,options:Lr}),r.a.createElement("div",{className:z.wrapper},r.a.createElement(ka,{max:h[W.value].value.length,className:z.numberInpt,InputLabelProps:{shrink:!0},pattern:/.*/,placeholder:h[W.value].value,fullWidth:!0,label:"Number of the car",required:!0,name:"carNumber",error:l,value:E,handleChange:b,helperClass:z.error}),B&&r.a.createElement(Na.a,{className:z.error},"check pattern")))),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,value:E.warehouseCompany,label:"Warehouse company"}))),!s&&r.a.createElement(K.a,{maxWidth:"xl"},r.a.createElement(G.a,{display:"flex",justifyContent:"center",mt:10},r.a.createElement(H.a,{component:"h4",variant:"h4"},"Add product to cargo:")),r.a.createElement(ka,{min:10,max:10,pattern:/^[0-9]*$/,fullWidth:!0,label:"Serial number",required:!0,name:"id",error:l,value:M,handleChange:U,helperClass:z.error}),r.a.createElement(ka,{min:2,max:30,pattern:/.*/,fullWidth:!0,label:"Name",required:!0,name:"name",error:l,value:M,handleChange:U,helperClass:z.error}),r.a.createElement(ka,{min:1,max:7,pattern:/^[0-9]*$/,fullWidth:!0,label:"Amount",required:!0,name:"amount",error:l,value:M,handleChange:U,helperClass:z.error}),r.a.createElement(Ya.a,{className:z.formControl},r.a.createElement(Da.a,null,"Type of packaging"),r.a.createElement(Ja.a,{required:!0,onChange:function(e){U(Object(d.a)({},M,Object(u.a)({},e.target.name,e.target.value)))},value:M.package,inputProps:{name:"package"}},r.a.createElement(Za.a,{value:"box"},"Box"),r.a.createElement(Za.a,{value:"without packaging"},"Without packaging"),r.a.createElement(Za.a,{value:"container"},"Container"))),r.a.createElement(ee.a,{variant:"contained",color:"primary",type:"button",onClick:function(){y.map((function(e){return e.id})).includes(M.id)?w("Product serial numbers cannot match !"):(O([].concat(Object(fa.a)(y),[M])),w(""))}},"Add to current cargo list"),r.a.createElement(ae.a,{container:!0,style:{marginTop:"1%"}},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement("span",{style:{color:"red"}},S)))),s||y.length>0?r.a.createElement(K.a,{maxWidth:"xl"},r.a.createElement(G.a,{mt:5},r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0,xs:12},s?r.a.createElement(Pr,{cargoList:Object.values(s.cargo),handleDeleteProduct:q,offButton:!0}):r.a.createElement(Pr,{cargoList:y,handleDeleteProduct:q,offButton:!1}),r.a.createElement(G.a,{mt:5},r.a.createElement(ee.a,{variant:"contained",color:"primary",type:"submit"},"Submit")))))):null)))))},Mr=function(e){var a=e.search,t=e.searchText,n=e.error,l=e.value,c=e.setValue,o=e.length,i=wr();return r.a.createElement(K.a,{component:"main",className:i.main,maxWidth:"sm"},r.a.createElement(H.a,{variant:"h5",align:"center",color:"textSecondary",component:"p",className:i.main},t),r.a.createElement(te.ValidatorForm,{className:i.form,noValidate:!0,onSubmit:function(){return a(l)}},r.a.createElement("div",{className:i.rootPaper},r.a.createElement(te.TextValidator,{value:l,className:i.input,placeholder:"Search...",onChange:function(e){return c(e.target.value)},validators:["required","matchRegexp:[0-9]{".concat(o,"}")],errorMessages:["this field is required","".concat(o," characters required")],inputProps:{maxLength:o}}),r.a.createElement(Vn.a,{className:i.divider,orientation:"vertical"}),r.a.createElement(hn.a,{className:i.iconButton,"aria-label":"search",type:"submit"},r.a.createElement(Fn.a,null)))),r.a.createElement("div",{className:i.error},n))},Ur=function(e){var a=e.setFormVisibility,t=e.formVisibility;return r.a.createElement(K.a,{component:"main",maxWidth:"md"},r.a.createElement(G.a,{display:"flex",justifyContent:"center"},r.a.createElement(ee.a,{color:"primary",variant:"outlined",onClick:function(){return a(!t)}},t?"Close form":"Create new")))},qr=function(e){var a=e.formVisibility,t=e.setFormVisibility,n=e.Form,l=e.onSubmit,c=e.error,o=e.id,i=wr();return r.a.createElement(K.a,{component:"main",maxWidth:"sm",className:i.main},r.a.createElement(Ur,{setFormVisibility:t,formVisibility:a}),a&&r.a.createElement(n,{onSubmit:l,error:c,id:o}))},zr=t(317),Gr=t.n(zr),Qr=function(e){var a=e.reset,t=wr();return r.a.createElement(K.a,{component:"main",maxWidth:"xs"},r.a.createElement(J.a,null),r.a.createElement("div",{className:t.SuccessPaper},r.a.createElement("img",{src:Gr.a,style:{width:"70%",marginLeft:"10%",marginBottom:"15%"}}),r.a.createElement(H.a,{component:"h1",variant:"h5",style:{textAlign:"center",marginBottom:"5%"}},"Congratulations, TTN registration was successful!"),r.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:function(){return a(0)}},"Create a new TTN")))},Zr=["Carrier check","Driver check","Check order","Create TTN"],Jr=function(e){var a=e.activeStep,t=e.setActiveStep,l=e.searchCarrier,c=e.searchCarrierError,o=e.createCarrier,i=e.createCarrierError,m=e.searchDriver,s=e.searchDriverError,u=e.createDriver,d=e.createDriverError,p=e.createTtn,g=e.createTtnError,E=e.carriers,b=e.drivers,h=e.authUser,f=e.services,v=e.searchOrder,y=e.searchOrderError,O=e.orders,x=e.handleResetForm,C=wr(),j=Object(n.useState)(!1),T=Object(Q.a)(j,2),N=T[0],A=T[1],S=Object(n.useState)(!1),w=Object(Q.a)(S,2),k=w[0],D=w[1],W=Object(n.useState)(""),R=Object(Q.a)(W,2),I=R[0],P=R[1],B=Object(n.useState)(""),V=Object(Q.a)(B,2),L=V[0],F=V[1],M=Object(n.useState)(""),U=Object(Q.a)(M,2),q=U[0],z=U[1];return r.a.createElement("div",{className:C.root},r.a.createElement(Nr.a,{activeStep:a,alternativeLabel:!0,style:{backgroundColor:"whiteSmoke"}},Zr.map((function(e){return r.a.createElement(Ar.a,{key:e},r.a.createElement(Sr.a,null,e))}))),function(e){switch(e){case 0:return r.a.createElement(n.Fragment,null,r.a.createElement(Mr,{search:l,searchText:"Search carrier by UNP",error:c.carrier,value:I,setValue:P,length:10}),c.carrier&&r.a.createElement(qr,{formVisibility:N,setFormVisibility:A,Form:Wr,onSubmit:o,error:i,id:I}));case 1:return r.a.createElement(n.Fragment,null,r.a.createElement(Mr,{search:m,searchText:"Search driver by driver license",error:s.driver,value:L,setValue:F,length:10}),s.driver&&r.a.createElement(qr,{setValue:F,value:L,formVisibility:k,setFormVisibility:D,Form:Rr,onSubmit:u,error:d,id:L}));case 2:return r.a.createElement(n.Fragment,null,r.a.createElement(Mr,{search:v,searchText:"Search order by TTN number",error:y.order,value:q,setValue:z,length:10}),y.order&&r.a.createElement(G.a,{display:"flex",justifyContent:"center",mt:5},r.a.createElement(ee.a,{variant:"outlined",color:"primary",type:"button",onClick:function(){return t((function(e){return e+1}))}},"Create custom TTN order")));case 3:return r.a.createElement(Fr,{ttnNumber:q,carrier:E[I],driver:b[L],onSubmit:p,error:g,authUser:h,services:f,order:O[q]});case 4:return r.a.createElement(Qr,{reset:x});default:return"Unknown step"}}(a))},Yr=function(){var e=Object(n.useState)(0),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=function(){l(t+1),Ot()},o=Object(i.d)(Ae),m=Ve(c),s=Object(Q.a)(m,3),u=s[0],d=s[1],p=s[2],g=Fe(c),E=Object(Q.a)(g,3),b=E[0],h=E[2],f=ze(c),v=Object(Q.a)(f,3),y=v[0],O=v[1],x=v[2],C=Ge(c),j=Object(Q.a)(C,3),T=j[0],N=j[2],A=Ye(c),S=Object(Q.a)(A,3),w=S[0],k=S[2],D=oa(),W=Object(Q.a)(D,2),R=W[0],I=W[1],P=na(c),B=Object(Q.a)(P,3),V=B[0],L=B[1],F=B[2];return Object(n.useEffect)((function(){R()}),[]),r.a.createElement(Jr,{activeStep:t,setActiveStep:l,searchCarrier:u,searchCarrierError:p,createCarrier:b,createCarrierError:h,searchDriver:y,searchDriverError:x,createDriver:T,createDriverError:N,createTtn:w,createTtnError:k,carriers:d,drivers:O,authUser:o,services:I,searchOrder:V,searchOrderError:F,orders:L,handleResetForm:function(e){l(e)}})},_r=function(e){var a=e.cargoList,t=e.handleDeleteProduct,n=e.offButton,l=wr();return r.a.createElement(re.a,null,r.a.createElement(lt.a,{className:l.table,size:"small"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{colSpan:6,align:"center"},r.a.createElement(H.a,{color:"textSecondary",component:"h1",variant:"h5",style:{textAlign:"center"}},"Cargo table"))),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center"},"Number"),r.a.createElement(ot.a,{align:"center"},"Serial"),r.a.createElement(ot.a,{align:"center"},"From TTN"),r.a.createElement(ot.a,{align:"center"},"Name"),r.a.createElement(ot.a,{align:"center"},"Amount"),r.a.createElement(ot.a,{align:"center"},"Action"))),r.a.createElement(ct.a,null,a.map((function(e,a){return r.a.createElement(st.a,{key:e.name+e.ttnNumber},r.a.createElement(ot.a,{align:"center"},a+1),r.a.createElement(ot.a,{align:"center"},e.id),r.a.createElement(ot.a,{align:"center"},e.ttnNumber),r.a.createElement(ot.a,{align:"center"},e.name),r.a.createElement(ot.a,{align:"center"},e.amount),r.a.createElement(ot.a,{align:"center"},r.a.createElement(ee.a,{variant:"contained",color:"secondary",style:{width:"40%",marginLeft:"3%",marginRight:"3%"},disabled:n,onClick:function(){return t(a)}},"Delete",r.a.createElement(dt.a,{style:{marginLeft:"5%"}}))))})))))},Hr=function(e){var a=e.ttnNumber,t=e.carrier,l=e.driver,c=e.onSubmit,o=e.error,i=e.authUser,m=e.order,s=Object(n.useState)({number:a,carrier:{unp:t.id,tel:t.tel,company:t.company},driver:{name:"".concat(l.name," ").concat(l.surname),license:l.id},registrar:{name:"".concat(i.firstName," ").concat(i.patronymic," ").concat(i.lastName),email:i.email},carNumber:"",warehouseCompany:i.company,owner:""}),u=Object(Q.a)(s,2),d=u[0],p=u[1],g=Object(n.useState)({id:"",ttnNumber:"",name:"",amount:""}),E=Object(Q.a)(g,2),b=E[0],h=E[1],f=Object(n.useState)([]),v=Object(Q.a)(f,2),y=v[0],O=v[1],x=Object(n.useState)(""),C=Object(Q.a)(x,2),j=C[0],T=C[1],N=function(e){var a=Object(fa.a)(y);a.splice(e,1),O(a)},A=wr();return r.a.createElement(G.a,{mt:3,mb:3},r.a.createElement(K.a,{component:"main",maxWidth:"xl"},r.a.createElement(J.a,null),r.a.createElement(re.a,null,r.a.createElement(G.a,{display:"flex",justifyContent:"center",mt:5},r.a.createElement(H.a,{variant:"h5",component:"h5",style:{paddingTop:"30px"}},"International waybill \u2116 ",d.number)),r.a.createElement(K.a,null,r.a.createElement(te.ValidatorForm,{onSubmit:function(){d.products=m?m.cargo:y;var e=d.number,a=d.carrier,t=d.carNumber,n=d.driver,r=d.warehouseCompany,l=d.owner,o=d.products,i=d.registrar;c({number:e,carrier:a,carNumber:t,driver:n,warehouseCompany:r,owner:l,products:o,registrar:i})}},r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,sm:6,xs:12},r.a.createElement(ka,{min:10,max:15,pattern:/^[1-9]*$/,fullWidth:!0,label:"TTN number",required:!0,name:"number",error:o,disabled:m,value:d,handleChange:p,helperClass:A.error})),r.a.createElement(ae.a,{item:!0,sm:6,xs:12},m?r.a.createElement(te.TextValidator,{fullWidth:!0,disabled:!0,label:"Number of the car",value:"".concat(m.carNumber)}):r.a.createElement(ka,{min:6,max:10,pattern:/.*/,fullWidth:!0,label:"Number of the car",required:!0,name:"carNumber",error:o,value:d,handleChange:p,helperClass:A.error}))),r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(Br.a,{disabled:!0,fullWidth:!0,label:"UNP \u2116",value:d.carrier.unp})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(Br.a,{disabled:!0,fullWidth:!0,label:"Phone number",value:d.carrier.tel})),r.a.createElement(ae.a,{item:!0,sm:4,xs:12},r.a.createElement(Br.a,{disabled:!0,fullWidth:!0,label:"Company name",value:d.carrier.company}))),r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,sm:6,xs:12},r.a.createElement(Br.a,{fullWidth:!0,disabled:!0,label:"Driver Name",value:d.driver.name})),r.a.createElement(ae.a,{item:!0,sm:6,xs:12},r.a.createElement(Br.a,{fullWidth:!0,disabled:!0,label:"Driver license",value:d.driver.license}))),!m&&r.a.createElement(n.Fragment,null,r.a.createElement(G.a,{display:"flex",justifyContent:"center"},r.a.createElement(H.a,{variant:"h5",component:"h5",mt:5,style:{paddingTop:"30px"}},"Add product to cargo:")),r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:2,max:30,pattern:/.*/,fullWidth:!0,label:"From TTN",required:!0,name:"ttnNumber",error:o,value:b,handleChange:h,helperClass:A.error})),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:2,max:30,pattern:/.*/,fullWidth:!0,label:"Serial number",required:!0,name:"id",error:o,value:b,handleChange:h,helperClass:A.error})),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:2,max:30,pattern:/.*/,fullWidth:!0,label:"Product type",required:!0,name:"name",error:o,value:b,handleChange:h,helperClass:A.error})),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ka,{min:1,max:7,pattern:/^[0-9]*$/,fullWidth:!0,label:"Amount",required:!0,name:"amount",error:o,value:b,handleChange:h,helperClass:A.error}))),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{xl:4},r.a.createElement(G.a,{mb:10},r.a.createElement(ee.a,{variant:"contained",type:"button",onClick:function(){y.map((function(e){return e.id})).includes(b.id)?T("Product serial numbers cannot match !"):(O([].concat(Object(fa.a)(y),[b])),T(""))},disabled:m,size:"small"},"Add to current cargo list")))),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0,xl:2,xs:12},r.a.createElement("span",{style:{color:"red"}},j)))),m||y.length>0?r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,xl:10,xs:12},m?r.a.createElement(_r,{cargoList:Object.values(m.cargo),handleDeleteProduct:N,offButton:!0}):r.a.createElement(_r,{cargoList:y,handleDeleteProduct:N,offButton:!1})))):null,r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement("span",{className:A.error},o.error)),r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0,xl:3,xs:12},r.a.createElement(G.a,{mb:3},r.a.createElement(ee.a,{variant:"contained",color:"primary",type:"submit",size:"large"},"Submit")))))))))},Kr=["Carrier check","Driver check","Check order","Create TTN"],Xr=function(e){var a=e.activeStep,t=e.setActiveStep,l=e.searchCarrier,c=e.searchCarrierError,o=e.createCarrier,i=e.createCarrierError,m=e.searchDriver,s=e.searchDriverError,u=e.createDriver,d=e.createDriverError,p=e.createTtn,g=e.createTtnError,E=e.carriers,b=e.drivers,h=e.authUser,f=e.searchOrder,v=e.searchOrderError,y=e.orders,O=e.handleResetForm,x=wr(),C=Object(n.useState)(!1),j=Object(Q.a)(C,2),T=j[0],N=j[1],A=Object(n.useState)(!1),S=Object(Q.a)(A,2),w=S[0],k=S[1],D=Object(n.useState)(""),W=Object(Q.a)(D,2),R=W[0],I=W[1],P=Object(n.useState)(""),B=Object(Q.a)(P,2),V=B[0],L=B[1],F=Object(n.useState)(""),M=Object(Q.a)(F,2),U=M[0],q=M[1];return r.a.createElement("div",{className:x.root},r.a.createElement(Nr.a,{activeStep:a,alternativeLabel:!0},Kr.map((function(e){return r.a.createElement(Ar.a,{key:e},r.a.createElement(Sr.a,null,e))}))),function(e){switch(e){case 0:return r.a.createElement(n.Fragment,null,r.a.createElement(Mr,{search:l,searchText:"Search carrier by UNP",error:c.carrier,value:R,setValue:I,length:10}),c.carrier&&r.a.createElement(qr,{formVisibility:T,setFormVisibility:N,Form:Wr,onSubmit:o,error:i,id:R,setValue:I}));case 1:return r.a.createElement(n.Fragment,null,r.a.createElement(Mr,{search:m,searchText:"Search driver by driver license",error:s.driver,value:V,setValue:L,length:10}),s.driver&&r.a.createElement(qr,{formVisibility:w,setFormVisibility:k,Form:Rr,onSubmit:u,error:d,id:V,setValue:L}));case 2:return r.a.createElement(K.a,{component:"main",className:x.main,maxWidth:"sm"},r.a.createElement(Mr,{search:f,searchText:"Search order by TTN number",error:v.order,value:U,setValue:q,length:10}),v.order&&r.a.createElement(G.a,{display:"flex",justifyContent:"center",mt:5},r.a.createElement(ee.a,{variant:"outlined",color:"primary",type:"button",onClick:function(){return t((function(e){return e+1}))}},"Create custom TTN order")));case 3:return r.a.createElement(Hr,{ttnNumber:U,carrier:E[R],driver:b[V],onSubmit:p,error:g,authUser:h,order:y[U]});case 4:return r.a.createElement(Qr,{reset:O});default:return"Unknown step"}}(a))},$r=function(){var e=Object(n.useState)(0),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=Object(n.useCallback)((function(){l((function(e){return e+1})),Ot()}),[l]),o=Object(i.d)(Ae),m=Ve(c),s=Object(Q.a)(m,3),u=s[0],d=s[1],p=s[2],g=Fe(c),E=Object(Q.a)(g,3),b=E[0],h=E[2],f=ze(c),v=Object(Q.a)(f,3),y=v[0],O=v[1],x=v[2],C=Ge(c),j=Object(Q.a)(C,3),T=j[0],N=j[2],A=aa(c),S=Object(Q.a)(A,3),w=S[0],k=S[2],D=ta(c),W=Object(Q.a)(D,3),R=W[0],I=W[1],P=W[2];return r.a.createElement(Xr,{activeStep:t,setActiveStep:l,searchCarrier:u,searchCarrierError:p,createCarrier:b,createCarrierError:h,searchDriver:y,searchDriverError:x,createDriver:T,createDriverError:N,createTtn:w,createTtnError:k,carriers:d,drivers:O,authUser:o,searchOrder:R,searchOrderError:P,orders:I,handleResetForm:function(e){window.location.reload(),l(e)}})},el=t(648),al=t(612),tl=t(679),nl=Object(X.a)({dndElement:{display:"flex",justifyContent:"space-between",border:"1px solid gray",backgroundColor:"white",padding:"10px 15px",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move"},dndArea:{height:"5rem",width:"100%",marginBottom:"1.5rem",color:"black",paddingTop:"1rem",paddingBottom:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",backgroundColor:function(e){return e.backgroundColor},outline:function(e){return e.outline}},inputError:{marginTop:"10px",color:"red"}}),rl={number:""},ll={ttnDate:"",managerInitials:"",operatorName:""},cl=function(e){var a=e.setCurrentTTN,t=e.dndIsShown,l=e.getFormData,c=e.getTtn,o=e.ttnError,i=e.ttns,m=e.currentManager,s=Object(n.useState)(rl),u=Object(Q.a)(s,2),p=u[0],g=u[1],E=Object(n.useState)(ll),b=Object(Q.a)(E,2),h=b[0],f=b[1],v=Object(n.useState)(null),y=Object(Q.a)(v,2),O=y[0],x=y[1],C=nl(),j=ce(),T=Object(Q.a)(j,2),N=T[0],A=T[1];Object(n.useEffect)((function(){var e=i[p.number];if(e&&e.id===p.number)if(a(e),"checked"===e.status){var n=m.firstName,r=m.lastName,c=m.patronymic,o="".concat(n," ").concat(r," ").concat(c),s=new Date(e.dataOfRegistration),u=s.getDate()+"."+s.getMonth()+"."+s.getFullYear();x(null),t(!0),g(rl),f(Object(d.a)({},h,{ttnDate:u,managerInitials:o,operatorName:e.owner})),l(e.id),A()}else x("TTN must been checked")}),[m,t,p.number,l,h,A,a,i]),Object(n.useEffect)((function(){o.TTN&&f(ll)}),[o.TTN]);var S=h.ttnDate,w=h.managerInitials,k=h.operatorName;return r.a.createElement(K.a,{component:"main",maxWidth:"xs"},r.a.createElement(G.a,{mt:5},r.a.createElement(G.a,null,r.a.createElement(H.a,{compoment:"h1",variant:"h5"},"Transfer goods to store")),r.a.createElement(te.ValidatorForm,{onSubmit:function(){return c(p.number)}},r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(G.a,{mt:2},r.a.createElement(G.a,null,r.a.createElement(ka,{min:10,max:11,pattern:/^[0-9]*$/,fullWidth:!0,label:"TTN number",required:!0,name:"number",error:o,value:p,handleChange:g,helperClass:C.inputError,key:N}),O&&!o.TTN&&r.a.createElement("small",{style:{color:"red"}},O)),r.a.createElement(G.a,{mt:2},r.a.createElement(ee.a,{type:"submit",variant:"outlined"},"Fetch TTN data"))),S&&w&&k&&r.a.createElement(G.a,{mt:10},r.a.createElement(G.a,{display:"flex",justifyContent:"center"},r.a.createElement(H.a,{variant:"h6"},"TTN details")),r.a.createElement(el.a,{disablePadding:!0},r.a.createElement(al.a,null,r.a.createElement(tl.a,{primary:"TTN register date",secondary:S}),r.a.createElement(tl.a,{primary:"Manger initials",secondary:w}),r.a.createElement(tl.a,{primary:"Sender",secondary:k})))))))))},ol=t(87),il=t(318),ml=t.n(il),sl=t(319),ul=t.n(sl),dl=t(599),pl={productQuantity:"",productArea:""},gl=function(e){var a=e.cargoDetails,t=e.areaData,l=e.changeActiveData,c=e.ttnNumber,o=Object(n.useState)(pl),i=Object(Q.a)(o,2),m=i[0],s=i[1],u=ce(),p=Object(Q.a)(u,2),g=p[0],E=p[1],b=nl();Object(n.useEffect)((function(){return null!==a&&(te.ValidatorForm.addValidationRule("isValidCargoAmount",(function(e){return!(Number(e)>Number(a.amount))})),te.ValidatorForm.addValidationRule("isValidWarehouseArea",(function(e){return!(Number(e)>Number(t.freeArea))}))),function(){te.ValidatorForm.removeValidationRule("isValidCargoAmount"),te.ValidatorForm.removeValidationRule("isValidWarehouseArea")}}),[t,a]);var h=null!==a&&null!==t;return r.a.createElement(G.a,{ml:5},r.a.createElement(G.a,{mb:4},r.a.createElement(H.a,{compoment:"h1",variant:"h5"},"Cargo unit warehousing details")),h?r.a.createElement(G.a,{mt:7},r.a.createElement(G.a,{display:"flex",alignItems:"center"},r.a.createElement(H.a,{variant:"body1"},"\u2022 Name:"),r.a.createElement(G.a,{ml:.5},r.a.createElement(H.a,{variant:"body2"},a.name))),r.a.createElement(G.a,{display:"flex",alignItems:"center"},r.a.createElement(H.a,{variant:"body1"},"\u2022 Cargo amount:"),r.a.createElement(G.a,{ml:.5},r.a.createElement(H.a,{variant:"body2"},a.amount,a.dimension))),r.a.createElement(G.a,{display:"flex",alignItems:"center"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(te.ValidatorForm,{onSubmit:function(){var e=m.productQuantity,n=m.productArea,r={name:a.name,amount:a.amount-e,type:a.type||a.dimension,id:a.id,ttnNumber:c},o={name:r.name,amount:Number(e),availableAmount:Number(e),package:r.type,size:Number(n),ttnNumber:c,id:r.id},i=Object(d.a)({},t,{area:t.area,freeArea:t.freeArea-Number(n),products:o});l(r,i),s(pl),E()}},r.a.createElement(G.a,{mt:2},r.a.createElement(ka,{min:0,max:10,pattern:/^[0-9]*$/,fullWidth:!0,label:"Warehoused products (".concat(a.dimension,")"),required:!0,name:"productQuantity",value:m,handleChange:s,helperClass:b.inputError,error:{},validators:["isValidCargoAmount"],errorMessages:["Invalid value"],key:g})),r.a.createElement(G.a,null,r.a.createElement(ka,{min:0,max:10,pattern:/^[0-9]*$/,fullWidth:!0,label:"Warehoused area (m\xb2)",required:!0,name:"productArea",value:m,handleChange:s,helperClass:b.inputError,error:{},validators:["isValidWarehouseArea"],errorMessages:["Invalid value"],key:g})),r.a.createElement(G.a,{mt:1},r.a.createElement(ee.a,{type:"submit",variant:"outlined"},"Move")))))):r.a.createElement(G.a,{mt:7,display:"flex",flexDirection:"column",alignItems:"center"},r.a.createElement("img",{src:dl,style:{opacity:"0.3"},alt:"boxImage"}),r.a.createElement(G.a,{mt:2.5},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0,align:"center"},"Drag and drop cargo unit ",r.a.createElement("br",null),"into any area"))))},El="box",bl=function(e){var a=e.name,t=e.amount,n=e.dimension,l=e.ttnNumber,c=e.id,o=e.spiner,i=e.setCurrentHendleCargoUnit,m=nl(),s=Object(ol.useDrag)({item:{name:a,type:El},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(Q.a)(s,2),d=(u[0].isDragging,u[1]);return r.a.createElement("div",{ref:d,className:m.dndElement,onDragStart:function(){return i(a,t,n,c,l)}},r.a.createElement("div",null,r.a.createElement("b",null,a),r.a.createElement("small",null," | ",t," ",n)),o)},hl=function(e){var a=e.elementData,t=e.cargoId,n=e.ttnNumber,l=e.setCurrentHendleCargoUnit,c=a&&a.map((function(e,a){var c=e.type||e.dimension,o=t===e.id?r.a.createElement(or.a,{size:20}):null;if(e.amount>0)return r.a.createElement(bl,{key:a,name:e.name,amount:e.amount,dimension:c,id:e.id,ttnNumber:n,spiner:o,setCurrentHendleCargoUnit:l})}));return r.a.createElement(G.a,{mr:2.5,display:"flex",flexDirection:"column"},c)},fl=function(e){var a=e.index,t=e.area,n=e.freeArea,l=e.products,c=e.type,o=e.isActiveArea,i=e.activeCargoUnit,m=e.initActiveCargoAndArea,s=Object(ol.useDrop)({accept:El,drop:function(){return{name:"Type: ".concat(c)}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),u=Object(Q.a)(s,2),d=u[0],p=d.canDrop,g=d.isOver,E=u[1],b="1px dashed black",h="white";p&&g?(h="#f7f8fc",b="1px solid black"):p?b="1px dashed #0014a6":o&&(b="2px solid black");var f=nl({backgroundColor:h,outline:b});return r.a.createElement("div",{ref:E,className:f.dndArea,onDrop:function(){return m(i,{index:a,area:t,freeArea:n,type:c,products:l})}},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"Area ",r.a.createElement("em",null,"\u2116 ",a))),r.a.createElement("br",null),r.a.createElement("span",null,"Type: ",r.a.createElement("b",{style:{textDecoration:"underline"}},c)),r.a.createElement("br",null),r.a.createElement("span",null,"Free area: ",n,"m")))},vl=function(e){var a=e.chosenWarehouse,t=e.activeArea,n=e.activeCargoUnit,l=e.initActiveCargoAndArea,c=a&&a.areas.map((function(e,a){var c=a+1,o=e.freeArea+e.type+a,i=t&&t.index===a+1;if(e.freeArea>0)return r.a.createElement(fl,{index:c,area:e.area,freeArea:e.freeArea,type:e.type,products:e.products,activeCargoUnit:n,initActiveCargoAndArea:l,key:o,isActiveArea:i})}));return r.a.createElement(G.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end"},c)},yl=function(e){var a=e.ttn,t=e.warehouses,l=e.showSaveButton,c=e.setSelectedStockState,o=e.sendChangedStockData,i={activeDnDCargoUnit:"",cargoId:null,cargoDetails:null,activeArea:null,movedData:{},cargoElements:a.products,ttnNumber:a.id,chosenWarehouse:"",chosenWarehouseInitialState:null},m=Object(n.useState)(i),s=Object(Q.a)(m,2),p=s[0],g=s[1];Object(n.useEffect)((function(){if(p.chosenWarehouse&&p.chosenWarehouseInitialState){var e=p.chosenWarehouse,a=e.areas,t=e.id;c({areas:a,id:t})}}),[c,p.chosenWarehouse,p.chosenWarehouse.id,p.chosenWarehouseInitialState]);return r.a.createElement(K.a,{fixed:!0},r.a.createElement(G.a,{my:15,display:"flex"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(G.a,{mb:7.5},r.a.createElement(H.a,{compoment:"h1",variant:"h5"},"Cargo",p.chosenWarehouse&&r.a.createElement("span",null,r.a.createElement("img",{style:{margin:"0px 8px"},src:ul.a,alt:"--\x3e"}),p.chosenWarehouse.name))),r.a.createElement(hl,{elementData:p.cargoElements,cargoId:p.cargoId,ttnNumber:p.ttnNumber,setCurrentHendleCargoUnit:function(e,a,t,n,r){var l={name:e,amount:a,dimension:t,id:n,ttnNumber:r};g(Object(d.a)({},p,{activeDnDCargoUnit:l}))}})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(G.a,{mb:5},r.a.createElement(Da.a,{htmlFor:"age-helper"},"Select stock here*"),r.a.createElement(Ja.a,{required:!0,fullWidth:!0,onChange:function(e){var a;g(Object(d.a)({},p,(a={},Object(u.a)(a,e.target.name,e.target.value),Object(u.a)(a,"chosenWarehouseInitialState",e.target.value),a)))},value:p.chosenWarehouseInitialState||"",input:r.a.createElement(Wa.a,{name:"chosenWarehouse",id:"age-helper"}),name:"chosenWarehouse"},t?Object.values(t).map((function(e){return r.a.createElement(Za.a,{key:e.name+e.totalArea+e.index,value:e},e.name," (available: ",e.freeArea," m. at ",e.areas.length," areas)")})):r.a.createElement(Za.a,null,"No any available warehouses"))),r.a.createElement(vl,{chosenWarehouse:p.chosenWarehouse,activeArea:p.activeArea,activeCargoUnit:p.activeDnDCargoUnit,initActiveCargoAndArea:function(e,a){g(Object(d.a)({},p,{cargoId:e.id,cargoDetails:e,activeArea:a}))}})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(gl,{cargoDetails:p.cargoDetails,areaData:p.activeArea,changeActiveData:function(e,a){var t,n,r=function(e){var a=[];return Object(fa.a)(p.cargoElements).forEach((function(t){t.id===e.id?a.push(Object(d.a)({},e,{dimension:t.type,id:t.id})):a.push(Object(d.a)({},t,{dimension:t.type,id:t.id}))})),a}(e),c=function(e){var a=[];return Object(fa.a)(p.chosenWarehouse.areas).forEach((function(t,n){if(n+1===e.index){var r=e.area,l=e.freeArea,c=e.type,o=e.index,i=e.products;a.push({area:r,freeArea:l,type:c,index:o,products:[].concat(Object(fa.a)(t.products),[i])})}else a.push(t)})),a}(a);t=r,n=c,g(Object(d.a)({},p,{cargoId:null,activeArea:null,cargoIndex:null,cargoDetails:null,cargoElements:t,chosenWarehouse:Object(d.a)({},p.chosenWarehouse,{areas:n})})),o(c),function(e){0===e.filter((function(e){return e.amount>0})).length&&l()}(r)},ttnNumber:p.ttnNumber}))))},Ol=function(e){var a=e.isShown,t=e.catchSubmitAction;return r.a.createElement(K.a,{maxWidth:"sm"},r.a.createElement(G.a,{my:3},r.a.createElement(ee.a,{disabled:!a,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:t},"Save warehousing")))},xl=function(e,a){fe.a.fire({title:"Congratulations!",text:a,type:"success",showConfirmButton:!1,timer:2e3}).then(e)},Cl={ttnIsFound:!1},jl={areasData:[],formData:""},Tl=function(e){var a=e.getTtn,t=e.ttnError,l=e.ttns,c=e.makeWarehousing,o=e.warehouses,i=e.user,m=e.reset,s=Object(n.useState)(null),u=Object(Q.a)(s,2),p=u[0],g=u[1],E=Object(n.useState)(!1),b=Object(Q.a)(E,2),h=b[0],f=b[1],v=Object(n.useState)(Cl),y=Object(Q.a)(v,2),O=y[0],x=y[1],C=Object(n.useState)(jl),j=Object(Q.a)(C,2),T=j[0],N=j[1],A=Object(n.useState)(null),S=Object(Q.a)(A,2),w=S[0],k=S[1],D=Object(n.useCallback)((function(){x(Object(d.a)({},O,{isSubmitButtonShown:!0}))}),[O]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(cl,{setCurrentTTN:g,dndIsShown:f,getFormData:function(e){N(Object(d.a)({},T,{ttnNumber:e}))},getTtn:a,ttnError:t,ttns:l,currentManager:i}),r.a.createElement(ol.DndProvider,{backend:ml.a},h&&r.a.createElement(yl,{ttn:p,warehouses:o,showSaveButton:D,setSelectedStockState:k,sendChangedStockData:function(e){N(Object(d.a)({},T,{areasData:e}))}})),r.a.createElement(Ol,{isShown:O.isSubmitButtonShown,catchSubmitAction:function(){c({stockData:w,wareHousingData:T},xl(m,"New warehouse successfully registered."))}}))},Nl=function(e,a){return function(t){L.a.post("".concat(M,"api/managers/finishWarehausing"),e).then(a).catch((function(e){e.response&&t({type:p,payload:e.response.data})}))}},Al=t(691),Sl=function(){var e=Object(i.c)(),a=Object(Al.a)(e,Nl),t=Object(i.d)(Se),l=ce(),c=Object(Q.a)(l,2),o=c[0],m=c[1],s=Ze(),u=Object(Q.a)(s,3),d=u[0],p=u[1],g=u[2],E=ea(),b=Object(Q.a)(E,2),h=b[0],f=b[1];return Object(n.useEffect)((function(){h()}),[h]),r.a.createElement(Tl,{getTtn:d,ttnError:g,ttns:p,warehouses:f,makeWarehousing:a,user:t,key:o,reset:m})},wl=[{id:"position",label:"Position",align:"center"},{id:"name",label:"Name",align:"center"},{id:"email",label:"Email",align:"center"}],kl=Object(X.a)({table:{minWidth:700}}),Dl=function(e){var a=e.employees,t=e.delEmployee,l=Object(n.useState)(0),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(5),s=Object(Q.a)(m,2),u=s[0],d=s[1],p=o*u,g=o*u+u,E=kl();return r.a.createElement(bt.a,{component:re.a},r.a.createElement(lt.a,{className:E.table,size:"small"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,wl.map((function(e){return r.a.createElement(ot.a,{key:e.id,align:e.align},e.label)})),r.a.createElement(ot.a,{align:"center"},"Action"))),r.a.createElement(ct.a,null,a.slice(p,g).map((function(e){return r.a.createElement(st.a,{key:e.id},wl.map((function(a,t){switch(a.id){case"position":return r.a.createElement(ot.a,{key:a.id,align:a.align},e[a.id].join(", "));case"name":return r.a.createElement(ot.a,{key:a.id,align:a.align},"".concat(e.firstName," ").concat(e.patronymic," ").concat(e.lastName));case"email":return r.a.createElement(ot.a,{key:a.id,align:a.align},r.a.createElement(an,{href:"/employees/"+e.id},e[a.id]));default:return r.a.createElement(ot.a,{key:a.id,align:a.align},e[a.id])}})),r.a.createElement(ot.a,{align:"center"},r.a.createElement(pt.a,{color:"default",size:"small",onClick:function(){return t(e.id)}},r.a.createElement(dt.a,null))))})))),r.a.createElement(mt.a,{rowsPerPageOptions:[5,10,20],component:"div",count:a.length,rowsPerPage:u,page:o,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){d(+e.target.value),i(0)}}))},Wl=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"WhiteSmoke"}},formName:{marginBottom:e.spacing(3)},helperText:{color:"red"},paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},formControl:{width:"100%"},form:{width:"100%",marginTop:e.spacing(10)},submit:{width:"100%",margin:e.spacing(4,0,0)},companyName:{marginTop:"3%"}}})),Rl=function(e){var a=e.employees,t=e.delEmployee,n=e.tableKey,l=Wl();return r.a.createElement(K.a,{component:"main",maxWidth:"xl"},r.a.createElement(J.a,null),r.a.createElement(re.a,{className:l.form},r.a.createElement(Dl,{key:n,employees:Object.values(a),delEmployee:t})))},Il=function(){var e=ce(),a=Object(Q.a)(e,2),t=a[0],l=(a[1],Ie()),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=We((function(){Ot(),o()})),s=Object(Q.a)(m,1)[0];return Object(n.useEffect)(o,[]),r.a.createElement(Rl,{tableKey:t,employees:i,delEmployee:s})},Pl=Object(X.a)((function(e){return{editButton:{float:"right"},paper:{padding:10},header:{opacity:.5,textAlign:"right"}}}));function Bl(e){var a=e.employee,t=Pl(),n=a.dateOfBirth?new Date(a.dateOfBirth).toDateString():"--";return r.a.createElement(lt.a,null,r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,null),r.a.createElement(ot.a,null,r.a.createElement(H.a,{variant:"h4"},a.lastName," ",a.firstName," ",a.patronymic))),[["Email",a.email||"--"],["Roles",a.position?a.position.join(", "):"--"],["Date of birth",n||"--"],["Address",a.city?"".concat(a.city," city, ").concat(a.street," street, house ").concat(a.house).concat(a.apartment?", apartment ".concat(a.apartment):""):"--"]].map((function(e){var a=Object(Q.a)(e,2),n=a[0],l=a[1];return r.a.createElement(st.a,{key:n},r.a.createElement(ot.a,null,r.a.createElement(H.a,{variant:"subtitle1",className:t.header},n,":")),r.a.createElement(ot.a,null,r.a.createElement(H.a,{variant:"subtitle2"},l)))}))))}var Vl=function(e){var a=e.editEmployee,t=e.employee,n=e.errors;return r.a.createElement(It,{onSubmit:function(e){return a(e,t.id)},errors:n,initial:t})};function Ll(e){var a=e.editEmployee,t=e.errors,l=e.employee,c=Object(n.useState)(!1),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=Pl();return r.a.createElement(re.a,{className:s.paper},r.a.createElement(ee.a,{color:"primary",variant:"outlined",onClick:function(){return m(!i)},className:s.editButton},i?"Show profile":"Edit"),i?r.a.createElement(Vl,{editEmployee:a,employee:l,errors:t}):r.a.createElement(Bl,{employee:l}))}function Fl(e){var a=e.employeeId,t=ce(),l=Object(Q.a)(t,2),c=l[0],o=l[1],i=Object(n.useCallback)((function(){xl(o,"TTN successfully save")}),[o]),m=Pe(i),s=Object(Q.a)(m,3),u=s[0],d=s[2],p=Re(),g=Object(Q.a)(p,2),E=g[0],b=g[1];return Object(n.useEffect)((function(){return E(a)}),[a,E]),r.a.createElement(Ll,{key:c,editEmployee:u,errors:d,employee:b[a]||{}})}var Ml=function(e){var a=e.match.params.id;return r.a.createElement(K.a,null,r.a.createElement(G.a,{m:2},r.a.createElement(Fl,{employeeId:a})))},Ul=function(e){return e.displayName||e.name||"Component"},ql=function(e){var a=function(a){function t(){return Object(Jt.a)(this,t),Object(_t.a)(this,Object(Ht.a)(t).apply(this,arguments))}return Object(Kt.a)(t,a),Object(Yt.a)(t,[{key:"render",value:function(){return r.a.createElement(e,null)}}]),t}(r.a.Component);return a.displayName="WithSubscription(".concat(Ul(e),")"),a},zl=t(658),Gl=t(176),Ql=t.n(Gl),Zl=t(175),Jl=t.n(Zl),Yl=t(681),_l=t(683),Hl=t(684),Kl=t(208),Xl=t(682),$l=t(680),ec=Object(X.a)((function(e){return{badge:{padding:0,marginRight:"27px"}}})),ac=function(e){var a=e.title,t=e.inboxDataUnit,n=ec();return r.a.createElement(G.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.a.createElement("small",null,r.a.createElement("b",null,a)),t&&t.length>0&&r.a.createElement($l.a,{badgeContent:t.length,color:"primary",className:n.badge}))},tc=Object(X.a)((function(e){return{collapse:{marginTop:e.spacing(1)},nested:{padding:0,paddingBottom:"5px",paddingTop:"5px",paddingLeft:e.spacing(2)}}})),nc=function(e){var a=e.roleTasks,t=e.isOpen,n=e.inboxData,l=e.getTTNdateOut,c=tc();return r.a.createElement(Kl.a,{in:t,timeout:"auto",unmountOnExit:!0,className:c.collapse},r.a.createElement(el.a,{component:"div",disablePadding:!0},r.a.createElement(al.a,{button:!0,className:c.nested,onClick:function(){return l(new Date,2)}},r.a.createElement(Yl.a,null,r.a.createElement(Xl.a,{fontSize:"small"})),r.a.createElement(tl.a,{primary:r.a.createElement(ac,{title:"In 2 hours",inboxDataUnit:n[0]})})),r.a.createElement(al.a,{button:!0,className:c.nested,onClick:function(){return l(new Date,8)}},r.a.createElement(Yl.a,null,r.a.createElement(Xl.a,{fontSize:"small"})),r.a.createElement(tl.a,{primary:r.a.createElement(ac,{title:"In 8 hours",inboxDataUnit:n[1]})})),r.a.createElement(al.a,{button:!0,className:c.nested,onClick:function(){return l(new Date,24)}},r.a.createElement(Yl.a,null,r.a.createElement(Xl.a,{fontSize:"small"})),r.a.createElement(tl.a,{primary:r.a.createElement(ac,{title:"Today",inboxDataUnit:n[2]})})),r.a.createElement(al.a,{button:!0,className:c.nested,onClick:function(){return l(new Date,0)}},r.a.createElement(Yl.a,null,r.a.createElement(Xl.a,{fontSize:"small"})),r.a.createElement(tl.a,{primary:r.a.createElement(ac,{title:"All",inboxDataUnit:a})}))))},rc=Object(X.a)((function(e){return{topLevelListItem:{paddingLeft:0,paddingRight:e.spacing(2)}}})),lc=Object(n.memo)((function(e){var a=e.handleClick,t=e.isOpen,n=e.roleTasks,l=void 0===n?[]:n,c=e.inboxData,o=e.getTTNdateOut,i=rc();return r.a.createElement(r.a.Fragment,null,r.a.createElement(al.a,{button:!0,onClick:a},r.a.createElement(Yl.a,null,r.a.createElement(Jl.a,null)),r.a.createElement(tl.a,{primary:r.a.createElement("span",null,r.a.createElement("b",null,"Inbox ",r.a.createElement("small",null,"(",l.length,")"))),className:i.topLevelListItem}),t?r.a.createElement(_l.a,null):r.a.createElement(Hl.a,null)),t&&r.a.createElement(nc,{roleTasks:l,isOpen:t,inboxData:c,getTTNdateOut:o}))})),cc=function(){var e=function(){onmessage=function(e){var a,t=e.data,n=t.barData,r=function(e){return 3600*e*1e3}(t.hours),l=(a=r,n.filter((function(e){return new Date(e.deadlineData).getTime()-(new Date).getTime()<=a})));postMessage(l)}}.toString();e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));var a=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(a)},oc=cc(),ic=cc(),mc=cc(),sc=Object(X.a)((function(e){return{rightBottomAlertStyle:{color:"#3e42a1",position:"fixed",bottom:"25px",right:"25px",padding:"10px 25px",display:"flex",alignItems:"center",border:"1px solid #3e42a1",zIndex:"999",background:"#fafafa"},textStyle:{display:"block",fontSize:"20px",marginLeft:"4px",fontWeight:"100"}}})),uc=t(320),dc=t.n(uc),pc=function(e){var a=e.message,t=e.status,n=sc();return r.a.createElement("div",{className:n.rightBottomAlertStyle},t&&r.a.createElement("img",{src:dc.a}),r.a.createElement("span",{className:n.textStyle},a))},gc=Object(X.a)((function(e){return{root:{width:"260px",backgroundColor:e.palette.background.paper},autorenewIcon:{cursor:"pointer"}}})),Ec=Object(i.b)((function(e){return{barData:e.roleTasks.barData,contentData:e.roleTasks.contentData}}),{getExportTTN:function(){return function(e){L.a.post("".concat(M,"api/ttns/inboxOut"),{now:new Date}).then((function(a){e({type:"TTNS_EXPORT",payload:a.data})})).catch((function(a){a.response&&e({type:p,payload:a.response.data})}))}},getTTNdateOut:function(e,a){return function(t){L.a.post("".concat(M,"api/ttns/contentOut"),{clientDate:e,substractedHoursAmount:a}).then((function(e){t({type:"TTN_DATEOUT",payload:{data:e.data,HOUR_FLAG:a}})})).catch((function(e){e.response&&t({type:p,payload:e.response.data})}))}}})((function(e){var a=gc(),t=Object(n.useState)(!1),l=Object(Q.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)([]),m=Object(Q.a)(i,2),s=m[0],u=m[1],d=Object(n.useState)(!0),p=Object(Q.a)(d,2),g=p[0],E=p[1],b=Object(n.useState)(!0),h=Object(Q.a)(b,2),f=h[0],v=h[1],y=e.barData&&e.barData.length>0;if(Object(n.useEffect)((function(){e.getExportTTN(),e.getTTNdateOut(new Date,0)}),[]),Object(n.useEffect)((function(){v(!0),setTimeout((function(){v(!1)}),4e3)}),[e.barData]),y&&g)if(window.Worker){var O=function(a,t){a.onmessage=function(e){u((function(a){return[].concat(Object(fa.a)(a),[e.data])}))},a.postMessage({barData:e.barData,hours:t})};E(!1);var x=new Worker(oc),C=new Worker(ic),j=new Worker(mc);O(x,2),O(C,8),O(j,24)}else alert("Your browser isn't support Web Workers \n Inbox will output uncorrest task data.");return r.a.createElement(r.a.Fragment,null,r.a.createElement(el.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:a.root,subheader:r.a.createElement(G.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1.75,mb:1.75},r.a.createElement(zl.a,{component:"div",id:"nested-list-subheader"},"Upcoming"),r.a.createElement(G.a,{mr:2},r.a.createElement(hn.a,{"aria-label":"reload",size:"small",color:"primary",onClick:function(){e.getExportTTN(),e.getTTNdateOut(new Date,e.contentData.HOUR_FLAG)}},r.a.createElement(Ql.a,{fontSize:"small",color:"primary",className:a.autorenewIcon}))))},r.a.createElement(lc,{handleClick:function(){o(!c)},isOpen:c,roleTasks:e.barData,inboxData:s,getTTNdateOut:e.getTTNdateOut})),y&&f&&r.a.createElement(pc,{message:"Here is ".concat(e.barData.length," upcoming tasks found.")}))})),bc=ql(function(e){function a(){return Object(Jt.a)(this,a),Object(_t.a)(this,Object(Ht.a)(a).apply(this,arguments))}return Object(Kt.a)(a,e),Object(Yt.a)(a,[{key:"render",value:function(){return r.a.createElement(G.a,{style:{background:"white"}},r.a.createElement(Ec,null))}}]),a}(r.a.Component)),hc=Object(X.a)((function(){return{thead:{backgroundColor:"white"},redTime:{color:"#F88379"}}})),fc=function(e){var a=hc(),t=Object(n.useState)(0),l=Object(Q.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(10),m=Object(Q.a)(i,2),s=m[0],u=m[1],d=c*s,p=c*s+s;return r.a.createElement(G.a,{p:5},e.contentData&&e.contentData.data&&e.contentData.data.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,null,r.a.createElement(lt.a,{"aria-label":"Inbox table"},r.a.createElement(it.a,{className:a.thead},r.a.createElement(st.a,null,r.a.createElement(ot.a,null,"TTN number"),r.a.createElement(ot.a,null,"Car number"),r.a.createElement(ot.a,null,"Registration date"),r.a.createElement(ot.a,null,"Task date"),r.a.createElement(ot.a,null,"Time out"))),r.a.createElement(ct.a,null,e.contentData.data.slice(d,p).map((function(e){return r.a.createElement(st.a,{id:e.id,hover:!0,role:"checkbox"},r.a.createElement(ot.a,null,e.number),r.a.createElement(ot.a,null,e.carNumber),r.a.createElement(ot.a,null,e.dateOfRegistration),r.a.createElement(ot.a,null,e.deadlineData),r.a.createElement(ot.a,null,function(e){return Date.parse("01/01/2011 ".concat(e.timeOut))<Date.parse("01/01/2011 01:00:00")}(e)?r.a.createElement("span",{className:a.redTime},e.timeOut):r.a.createElement("span",null,e.timeOut)))}))))),r.a.createElement(mt.a,{rowsPerPageOptions:[5,10,20],component:"div",count:e.contentData.data.length,rowsPerPage:s,page:c,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){u(+e.target.value),o(0)}})):r.a.createElement(G.a,null,r.a.createElement(H.a,{variant:"em"},"Here is no any tasks for this time period.")))},vc=Object(i.b)((function(e){return{contentData:e.roleTasks.contentData}}),{})(Object(n.memo)((function(e){return r.a.createElement(G.a,{style:{background:"white"}},r.a.createElement(G.a,{mt:3},r.a.createElement(fc,{contentData:e.contentData})))}))),yc=ql(function(e){function a(){return Object(Jt.a)(this,a),Object(_t.a)(this,Object(Ht.a)(a).apply(this,arguments))}return Object(Kt.a)(a,e),Object(Yt.a)(a,[{key:"render",value:function(){return r.a.createElement(G.a,null,r.a.createElement(G.a,{style:{background:"white"},p:1.5},r.a.createElement(H.a,{variant:"h4"},"TTNs to check")),r.a.createElement(G.a,null,r.a.createElement(vc,null)))}}]),a}(r.a.Component)),Oc=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(G.a,{display:"flex",style:{height:"100%"}},r.a.createElement(bc,null),r.a.createElement(K.a,{maxWidth:"xl"},r.a.createElement(yc,null))))},xc=Object(X.a)((function(e){return{"@global":{body:{backgroundColor:"whiteSmoke"}},cargoTable:{backgroundColor:"white",borderRadius:"10px",border:"1px solid #e0e0e0"},mainTable:{marginTop:"3%"},spanTable:{fontWeight:"600"},stepNumber:{fontWeight:"600 !important",padding:"25px 0",textAlign:"center",opacity:"0.5"},formName:{marginBottom:e.spacing(3)},helperText:{color:"red"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},listContainer:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{padding:"15px",width:"700px"},dialogPaper:{width:"50%",marginTop:"2%",marginLeft:"25%"},mainContainer:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},cardPaper:{width:"50%",marginTop:e.spacing(5)},card:{margin:e.spacing(5,5,5,5)},select:{width:"100%",marginTop:e.spacing(5),marginBottom:e.spacing(5)},submit:{width:"100%",margin:e.spacing(4,0,0)},report:{marginLeft:"5%",width:"70%",marginBottom:"5%"},table:{marginTop:e.spacing(5),width:"100%"},description:{marginTop:e.spacing(5),padding:e.spacing(5,5,5,5)},lostList:{backgroundColor:"#f5f5f5",display:"flex",justifyContent:"flex-end",marginLeft:"25px",padding:"0 25px"},ul:{paddingTop:"0",paddingBottom:"0"},listItem:{paddingTop:"0",paddingBottom:"0"},modal:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"whitesmoke",boxShadow:e.shadows[5],padding:"25px",borderRadius:"10px",width:"400px !important",height:"550px !important",position:"absolute",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},modalForm:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},reportList:{textAlign:"center",width:"100%",marginBottom:"20px"},mainPaper:{marginLeft:"3%",marginTop:"3%",height:"95%",marginRight:"3%"}}})),Cc=function(e){var a=e.cargo,t=xc(),l=Object(n.useState)(0),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(5),s=Object(Q.a)(m,2),u=s[0],d=s[1],p=o*u,g=o*u+u;return r.a.createElement(bt.a,null,r.a.createElement(lt.a,{className:t.table,size:"small"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center"},"ID"),r.a.createElement(ot.a,{align:"center"},"Name"),r.a.createElement(ot.a,{align:"center"},"Amount"),r.a.createElement(ot.a,{align:"center"},"Packing material"))),r.a.createElement(ct.a,null,a.slice(p,g).map((function(e){return r.a.createElement(st.a,{key:e.id},r.a.createElement(ot.a,{align:"center"},e.id),r.a.createElement(ot.a,{align:"center"},e.name),r.a.createElement(ot.a,{align:"center"},e.amount),r.a.createElement(ot.a,{align:"center"},e.package))})))),r.a.createElement(mt.a,{style:{marginBottom:"3%"},rowsPerPageOptions:[5,10,20],component:"div",count:a.length,rowsPerPage:u,page:o,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){d(+e.target.value),i(0)}}))},jc=t(672),Tc=t(671),Nc=t(114),Ac=t.n(Nc),Sc=function(e){var a=e.ttn,t=(e.open,e.report),l=e.setReport,c=xc(),o=Object(n.useState)(!1),i=Object(Q.a)(o,2),m=i[0],s=i[1],u=function(){s(!1)};return r.a.createElement(K.a,{className:c.cargoTable},r.a.createElement(lt.a,{className:c.mainTable},r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center",colSpan:2}," ",r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},r.a.createElement("span",{className:c.spanTable},"International waybill \u2116 "),' "',a.id,'"',r.a.createElement("span",{className:c.spanTable}," from "),'"',Et()(a.dataOfRegistration).format("MMMM Do YYYY"),'"'))),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"left"},r.a.createElement("b",null,"Owner info:")),r.a.createElement(ot.a,{align:"left"},"Passport info: ",a.owner)),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"left"},r.a.createElement("b",null,"Carrier info:")),r.a.createElement(ot.a,{align:"left"},"Company: ",a.carrier.company,", UNP \u2116",a.carrier.unp,", phone: ",a.carrier.tel," ")),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"left"},r.a.createElement("b",null,"Driver info:")),r.a.createElement(ot.a,{align:"left"},"Name: ",a.driver.name,", driver license \u2116",a.driver.license,", car number: ",a.carNumber," ")))),r.a.createElement(Cc,{cargo:a.products}),a.description&&r.a.createElement(re.a,{className:c.description},r.a.createElement(H.a,{color:"textPrimary"},a.description)),t.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement(Tc.a,{onClose:u,"aria-labelledby":"customized-dialog-title",open:m},r.a.createElement(bn.a,{className:c.appBar},r.a.createElement(un.a,null,r.a.createElement(H.a,{variant:"h6",className:c.title},"Report"),r.a.createElement(hn.a,{edge:"start",color:"inherit",onClick:u,"aria-label":"close"},r.a.createElement(Ac.a,null)))),r.a.createElement(jc.a,{dividers:!0},r.a.createElement(H.a,{gutterBottom:!0},t))),r.a.createElement(hn.a,{onClick:function(){l("")},"aria-label":"close",style:{marginLeft:"5%",marginBottom:"5%"}},r.a.createElement(dt.a,{fontSize:"large"})),r.a.createElement(ee.a,{className:c.report,variant:"outlined",color:"primary",onClick:function(){s(!0)}},"Read report")))},wc=t(685),kc=t(696),Dc=function(e){var a=e.saveTTN,t=e.confirm,n=e.setConfirm,l=e.open,c=e.setOpen,o=xc();return r.a.createElement("div",{className:o.select},r.a.createElement(wc.a,{"data-testid":"checkbox",control:r.a.createElement(kc.a,{value:t,color:"primary",checked:t,onChange:function(){return n(!t)}}),label:"I confirm the availability of goods"}),r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:o.submit,onClick:function(){return c(!l)},disabled:t,"data-testid":"reportButton"},"\u0421reate a report"),r.a.createElement(ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,disabled:!t,onClick:function(){return a(!1)},"data-testid":"submitButton"},"Finish control"))},Wc=t(686),Rc=function(e){var a=e.open,t=e.openDialog,n=xc();return r.a.createElement(bn.a,{className:n.appBar},r.a.createElement(un.a,null,r.a.createElement(hn.a,{edge:"start",color:"inherit","aria-label":"close",onClick:function(){t(!a)}},r.a.createElement(Ac.a,null))))},Ic=function(e){var a=e.finishStep,t=e.selectOptionsData,l=xc(),c=Object(n.useState)({}),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=[];return r.a.createElement(G.a,null,r.a.createElement(K.a,{maxWidth:"sm"},r.a.createElement(G.a,{mb:5},r.a.createElement(H.a,{component:"h1",variant:"h3",className:l.stepNumber},"REPORT REASON")),r.a.createElement(G.a,null,r.a.createElement(te.ValidatorForm,{onSubmit:function(){return a("first",i)}},r.a.createElement(Ya.a,{fullWidth:!0},r.a.createElement(Da.a,{htmlFor:"grouped-select"},"Reason"),r.a.createElement(Ja.a,{required:!0,fullWidth:!0,value:i.reasonNumber||"",onChange:function(e){var a=e.target.value,t=s[a-1];m({reasonNumber:a,reasonType:t})},input:r.a.createElement(Wa.a,{name:"reason",id:"age-helper"}),name:"reason",autoComplete:"reasonNumber"},t.map((function(e){return s.push(e.value),r.a.createElement(Za.a,{key:e.key,value:e.key},e.value)})))),r.a.createElement(G.a,{mt:4},r.a.createElement(ee.a,{type:"submit",variant:"contained",size:"medium",color:"primary"},"Save"))))))},Pc=function(e){var a=e.checks,t=e.initChecks,l=e.unitName,c=e.handleCheckboxChange,o=e.id;return Object(n.useEffect)((function(){t(l,o)}),[]),r.a.createElement(wc.a,{control:r.a.createElement(kc.a,{checked:a[l]||!1,onChange:c(l),value:o,color:"primary"})})},Bc=t(616),Vc=t(614),Lc=function(e){var a=e.isModalOpen,t=e.handleClose,l=e.dmgDescription,c=e.setDmgDescription,o=e.rowName,i=e.actualDescription,m=e.getEditData,s=xc(),p=Object(n.useState)(""),g=Object(Q.a)(p,2),E=g[0],b=g[1];return r.a.createElement(Bc.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:a,onClose:t,closeAfterTransition:!0,BackdropComponent:Vc.a,BackdropProps:{timeout:500}},r.a.createElement(G.a,{className:s.modal},r.a.createElement(G.a,null,r.a.createElement(H.a,{component:"h5",variant:"h5"},"Damage discription")),r.a.createElement(te.ValidatorForm,{onSubmit:function(){c(Object(d.a)({},l,Object(u.a)({},o,E.data))),m(Object(d.a)({},l,Object(u.a)({},o,E.data))),b(""),t()},className:s.modalForm},r.a.createElement(G.a,{mt:2,fullWidth:!0},r.a.createElement(ka,{min:10,max:100,pattern:/.*/,fullWidth:!0,label:"Cargo damage description",required:!0,name:"data",defaultValue:i,value:E,handleChange:b,helperClass:s.inputError,error:{},rows:5})),r.a.createElement(G.a,{display:"flex",justifyContent:"center",mt:10},r.a.createElement(ee.a,{type:"submit",variant:"outlined",size:"medium",color:"primary"},"Save")))))},Fc={borderBottom:"1px solid #3e42a1",paddingLeft:"5px",color:"#3e42a1",fontWeight:600},Mc=function(e){var a=e.cargo,t=e.initialCargo,l=e.reportReason,c=e.handleChangeTTN,o=e.setCheckedCargo,i=e.isAllSelected,m=e.selectAll,s=e.getEditData,p=xc(),g=Object(n.useState)({}),E=Object(Q.a)(g,2),b=E[0],h=E[1],f=Object(n.useState)(!1),v=Object(Q.a)(f,2),y=v[0],O=v[1],x=Object(n.useState)({}),C=Object(Q.a)(x,2),j=C[0],T=C[1],N=Object(n.useState)(),A=Object(Q.a)(N,2),S=A[0],w=A[1],k=Object(n.useState)({}),D=Object(Q.a)(k,2),W=D[0],R=D[1],I=function(){w(),O(!1)},P=function(e){return function(a){h(Object(d.a)({},b,Object(u.a)({},e,a.target.checked))),o({index:a.target.value,checked:a.target.checked},null),!a.target.checked&&T(Object(d.a)({},j,Object(u.a)({},e,"")))}};Object(n.useEffect)((function(){if(Object.values(b).length===a.length){var e=Object.values(b).every((function(e){return!0===e})),t=Object.values(b).every((function(e){return!1===e}));e&&m(!0),t&&m(!1)}}),[b]),Object(n.useEffect)((function(){if(Object.values(b).length===a.length){var e={};for(var t in b)e=Object(d.a)({},e,Object(u.a)({},t,i));h(e),o(null,{value:i})}}),[i]);var B={},V=[],L=function(e,t){var n;B=Object(d.a)({},B,Object(u.a)({},e,!1));var r=(n={},Object(u.a)(n,e,""),Object(u.a)(n,"cargoId",t),n);V=[].concat(Object(fa.a)(V),[r]),Object.values(B).length===a.length&&(h(B),T(V))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{stickyHeader:!0,className:p.table,size:"small"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"left"},"Target"),r.a.createElement(ot.a,{align:"left"},"ID"),r.a.createElement(ot.a,{align:"left"},"Name"),r.a.createElement(ot.a,{align:"left"},"Amount"),r.a.createElement(ot.a,{align:"left"},"Type"),2===l.reasonNumber&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{align:"left"},"DMG Details"),r.a.createElement(ot.a,{align:"left"})))),r.a.createElement(ct.a,null,a.map((function(e,a){var n=function(a){return c(a,e.id)},o="checked".concat(a),i=b[o]?Fc:{},m=j[o]?j[o].substring(0,15)+"...":"-";return r.a.createElement(st.a,{key:e.id,selected:b[o],className:p.tableUnit},r.a.createElement(ot.a,null,r.a.createElement(Pc,{checks:b,initChecks:L,unitName:o,handleCheckboxChange:P,id:e.id,fullWidth:!0})),r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{disabled:!0,defaultValue:e.id,fullWidth:!0})),r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{disabled:!0,defaultValue:e.name,fullWidth:!0})),1===l.reasonNumber&&r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{"data-testid":e.id+"-amount",defaultValue:e.amount,name:"amount",onChange:function(r){var l=r.target.value;l>0&&Number.parseInt(l)<t[a].amount?(R(Object(u.a)({},e.id,"")),n(r)):R(Object(u.a)({},e.id,"Invalid amount value"))},disabled:!b[o],style:i,fullWidth:!0}),W[e.id]&&r.a.createElement("p",{style:{color:"red"}},W[e.id])),2===l.reasonNumber&&r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{defaultValue:e.amount,disabled:!0,autoFocus:!0,fullWidth:!0})),3===l.reasonNumber&&r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{defaultValue:e.amount,disabled:!0,fullWidth:!0})),r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{"data-testid":e.id+"-package",defaultValue:e.package,name:"package",onChange:n,disabled:!0,fullWidth:!0})),2===l.reasonNumber&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{align:"center"},r.a.createElement(Bn.a,{value:m,name:"dmgDetails",disabled:!0})),r.a.createElement(ot.a,null,r.a.createElement(ee.a,{onClick:function(){return w(o),void O(!0)},disabled:!b[o]},"Edit"),r.a.createElement(Lc,{isModalOpen:y,handleClose:I,dmgDescription:j,setDmgDescription:T,actualDescription:j[o],rowName:S}))))})))),r.a.createElement(Lc,{isModalOpen:y,handleClose:I,dmgDescription:j,setDmgDescription:T,actualDescription:j[S],rowName:S,getEditData:s}))},Uc=function(e){var a=e.isAllSelected,t=e.selectAll;return r.a.createElement(G.a,null,r.a.createElement("hr",null),r.a.createElement(G.a,null,r.a.createElement(ee.a,{onClick:function(){t(!a)}},a?"UNCHECK ALL":"CHECK ALL")),r.a.createElement("hr",null))},qc=function(e){var a=e.initialCargo,t=e.cargo,l=e.reportReason,c=e.handleChangeTTN,o=e.finishStep,i=e.setCheckedCargo,m=xc(),s=Object(n.useState)(!1),u=Object(Q.a)(s,2),p=u[0],g=u[1],E=Object(n.useState)(),b=Object(Q.a)(E,2),h=b[0],f=b[1];return r.a.createElement(G.a,{mt:25,mb:10},r.a.createElement(G.a,{mb:5},r.a.createElement(H.a,{component:"h1",variant:"h3",className:m.stepNumber},"REPORT EDIT")),r.a.createElement(K.a,{fixed:!0},r.a.createElement(G.a,null,r.a.createElement(Uc,{isAllSelected:p,selectAll:g}),r.a.createElement(Mc,{cargo:t,initialCargo:a,reportReason:l,handleChangeTTN:c,setCheckedCargo:i,isAllSelected:p,selectAll:g,getEditData:function(e){f(Object(d.a)({},h,{data:e}))}})),r.a.createElement(G.a,{mt:5},r.a.createElement("a",{href:"#yak1"},r.a.createElement(ee.a,{type:"button",onClick:function(){return o("second",{cargo:t,editData:h})},variant:"contained",size:"medium",color:"primary"},"Edit")))))},zc=function(e){var a=e.initialCargo,t=e.cargo,l=e.reportReason,c=e.currentTTN,o=e.markCargoAsUnfound,i=e.controller,m=e.setIncident,s=xc(),u=t.filter((function(e){return!0===e.checked})),d=t.filter((function(e){return!1===e.checked})),p=c.driver,g=p.name,E=p.license,b=0;t.forEach((function(e,t){b+=a[t].amount-e.amount}));var h=l.reasonNumber,f=l.reasonType,v=1!==h&&s.reportList;Object(n.useEffect)((function(){switch(h){case 1:o(u);break;case 2:o(t);break;case 3:o(d)}y()}),[]);var y=function(){var e=3!==h?"".concat(f," cargo in ").concat(u.length," of ").concat(t.length," different product units"):"".concat(f," ").concat(u.length," of ").concat(t.length," cargo units");m(e)};return r.a.createElement(G.a,{mt:15,mb:10},r.a.createElement(G.a,{id:"yak1",mb:5},r.a.createElement(H.a,{component:"h1",variant:"h3",className:s.stepNumber},"Final list")),r.a.createElement(K.a,{maxWidth:"xl",className:s.listContainer},r.a.createElement(re.a,{className:s.paper},r.a.createElement(G.a,{mb:5},r.a.createElement(H.a,{component:"h2",variant:"h6",align:"center",color:"textPrimary",style:{marginTop:"3%"},gutterBottom:!0},f," report")),r.a.createElement(G.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(G.a,{display:"flex",flexDirection:"column",className:v},r.a.createElement(G.a,null,r.a.createElement(H.a,null,r.a.createElement("b",null,"Controler: ")," ",i)),r.a.createElement(G.a,{mt:2},r.a.createElement(H.a,null,3!==h?"".concat(f," cargo in ").concat(u.length," of ").concat(t.length," different product units"):"".concat(f," ").concat(u.length," of ").concat(t.length," cargo units"))),r.a.createElement(G.a,{mt:2},r.a.createElement(H.a,null,r.a.createElement("b",null,"Driver: "),g,r.a.createElement("small",null,"(license: ",E,")"))),1===h&&r.a.createElement(G.a,{mt:7,alignSelf:"self-end",style:{width:"100%"}},r.a.createElement("hr",null),r.a.createElement(H.a,null,r.a.createElement("b",null,"Total lost: ",b)))),1===h&&r.a.createElement(G.a,{className:s.lostList},r.a.createElement(el.a,{className:s.ul},t.map((function(e,t){return e.amount!==a[t].amount&&e.checked&&r.a.createElement(al.a,{key:e.id,className:s.listItem},r.a.createElement(tl.a,{primary:"".concat(e.name," (-").concat(a[t].amount-e.amount," units)"),secondary:"Final amount: ".concat(e.amount," / ").concat(a[t].amount)}))}))))))))},Gc=function(e){var a={url:"https://dev66718.service-now.com/api/427591/get_one/getBuID/".concat(e),method:"get",headers:{Accept:"application/json","Content-Type":"application/json"},auth:{username:"admin",password:"q1XV9ipuwDAK"}};return L()(a)},Qc=r.a.forwardRef((function(e,a){return r.a.createElement(Wc.a,Object.assign({direction:"up",ref:a},e))})),Zc=[{key:1,value:"Lost"},{key:2,value:"Damaged"},{key:3,value:"Not found"}],Jc={first:{isComplete:!1,data:null},second:{isComplete:!1,data:null},third:{isComplete:!1}},Yc=function(e){var a=e.saveTTN,t=e.handleChangeTTN,l=e.currentTTN,c=e.initialCargo,o=e.cargo,i=e.open,m=e.openDialog,s=e.markCargoAsUnfound,p=e.setCheckedCargo,g=e.controller,E=Object(n.useState)(Jc),b=Object(Q.a)(E,2),h=b[0],f=b[1],v=Object(n.useState)(""),y=Object(Q.a)(v,2),O=y[0],x=y[1],C=function(e,a){f(Object(d.a)({},h,Object(u.a)({},e,{isComplete:!0,data:a})))};return r.a.createElement(G.a,null,r.a.createElement(Tc.a,{fullScreen:!0,open:i,onClose:function(){m(!i)},TransitionComponent:Qc},r.a.createElement(Rc,{open:i,openDialog:m}),r.a.createElement(Ic,{finishStep:C,selectOptionsData:Zc}),h.first.isComplete&&r.a.createElement(qc,{initialCargo:c,cargo:o,reportReason:h.first.data,handleChangeTTN:t,finishStep:C,setCheckedCargo:p}),h.second.isComplete&&r.a.createElement(G.a,null,r.a.createElement(zc,{initialCargo:c,cargo:o,reportReason:h.first.data,currentTTN:l,markCargoAsUnfound:s,controller:g,setIncident:x}),r.a.createElement(G.a,{mb:15,display:"flex",justifyContent:"center"},r.a.createElement(G.a,null,r.a.createElement(ee.a,{variant:"contained",color:"primary",size:"large",onClick:function(){var e=h.first.data.reasonType,t={u_servicetype:"Main",u_incidentinfo:O,u_status:e};m(!i),function(e){var a={url:"https://dev66718.service-now.com/api/now/v2/table/u_angular",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},data:e,auth:{username:"admin",password:"q1XV9ipuwDAK"}};L()(a).then((function(e){console.log(e.data.result)}))}(t),a(!0,h.first.data,h.second.data)}},"Finish report"))))))},_c=function(e){var a=e.ttns,t=e.getTtn,l=e.getTtnError,c=e.editTtn,o=e.user,i=(xc(),Object(n.useState)(!1)),m=Object(Q.a)(i,2),s=m[0],u=m[1],p=Object(n.useState)(!1),g=Object(Q.a)(p,2),E=g[0],b=g[1],h=Object(n.useState)(""),f=Object(Q.a)(h,2),v=f[0],y=f[1],O=Object(n.useState)(""),x=Object(Q.a)(O,2),C=x[0],j=x[1],T=Object(n.useState)([]),N=Object(Q.a)(T,2),A=(N[0],N[1]),S=Object(n.useState)({}),w=Object(Q.a)(S,2),k=w[0],D=w[1],W=Object(n.useState)({}),R=Object(Q.a)(W,2),I=R[0],P=R[1],B=o.firstName,V=o.lastName,L=o.patronymic,F="".concat(B," ").concat(V," ").concat(L),M=function(e){var t;b(e),t=a[C],D(Object(d.a)({},t,{products:Object(fa.a)(t.products.map((function(e){return Object(d.a)({},e)})))})),P(Object(d.a)({},t,{products:Object(fa.a)(t.products.map((function(e){return Object(d.a)({},e)})))}))},U=function(e,t,n){e?(!function(e,t,n){var r,l=t.reasonNumber,o={reasonNumber:l,reasonType:t.reasonType,date:Et()().format()};switch(l){case 1:r=I.products;break;case 2:var i=n.editData.data;r=I.products.map((function(e,a){if(e.id===i[a].cargoId){var t=i["checked".concat([a])];t&&(e.dmgFeedback=t)}return e}));break;case 3:r=I.products.filter((function(e){return!0!==e.checked}))}var m={report:o,status:"checked",products:r,controller:F,initialProducts:k.products};c(m,a[C].id)}(0,t,n),b(!1)):function(e){var t={status:"checked",products:I.products,controller:e};v.length>0&&(t.report={report:v,date:Et()().format()}),c(t,a[C].id)}(F)};return r.a.createElement(K.a,{component:"main",maxWidth:"md"},r.a.createElement(Mr,{search:function(e){t(e),y("")},searchText:"Search TTN by number",error:l.number,value:C,setValue:j,length:10}),a[C]&&r.a.createElement(n.Fragment,null,r.a.createElement(Sc,{ttn:a[C],open:E,report:v,setReport:y}),r.a.createElement(Dc,{saveTTN:U,confirm:s,setConfirm:u,open:E,setOpen:M}),r.a.createElement(Yc,{saveTTN:U,handleChangeTTN:function(e,a){I.products.forEach((function(t){t.id===a&&(t[e.target.name]=e.target.value,t.checked=!0,"amount"===e.target.name&&(t.availableAmount=e.target.value))}))},initialCargo:k.products,cargo:I.products,currentTTN:I,open:E,openDialog:M,markCargoAsUnfound:function(e){A(e)},setCheckedCargo:function(e,a){I.products.forEach((function(t){a?t.checked=a.value:e.index===t.id&&(t.checked=e.checked)}))},controller:F})))},Hc=function(){var e=ce(),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=Object(n.useCallback)((function(){xl(l,"TTN successfully save")}),[l]),o=Ze(),m=Object(Q.a)(o,3),s=m[0],u=m[1],d=m[2],p=Je(c),g=Object(Q.a)(p,1)[0],E=Object(i.d)(Se);return r.a.createElement(_c,{key:t,ttns:u,getTtn:s,getTtnError:d,editTtn:g,user:E})},Kc=t(8),Xc=t(687),$c=Object(Kc.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose,l=Object(pa.a)(e,["children","classes","onClose"]);return r.a.createElement(Xc.a,Object.assign({disableTypography:!0,className:t.root},l),r.a.createElement(H.a,{variant:"h6"},a),n?r.a.createElement(hn.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(Ac.a,null)):null)})),eo=Object(Kc.a)((function(e){return{root:{padding:e.spacing(2)}}}))(jc.a),ao=function(e){var a=e.report,t=r.a.useState(!1),n=Object(Q.a)(t,2),l=n[0],c=n[1],o=function(){c(!1)};return r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:function(){c(!0)}},"Show report"),r.a.createElement(Tc.a,{onClose:o,"aria-labelledby":"customized-dialog-title",open:l},r.a.createElement($c,{id:"customized-dialog-title",onClose:o},"Report"),r.a.createElement(eo,{dividers:!0,style:{width:"25vw"}},r.a.createElement(H.a,{gutterBottom:!0},a))))},to=[{id:"id",label:"Number",align:"left"},{id:"name",label:"Name",align:"left"},{id:"amount",label:"Actual amount/Initial amount",align:"center"},{id:"type",label:"Packaging type",align:"center"},{id:"dmgFeedback",label:"Report",align:"center"}],no=function(e){var a=e.cargo,t=e.initialCargo,l=Object(n.useState)(0),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(5),s=Object(Q.a)(m,2),u=s[0],d=s[1],p=o*u,g=o*u+u;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(it.a,null,r.a.createElement(st.a,null,to.map((function(e){return r.a.createElement(ot.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(ct.a,null,a.slice(p,g).map((function(e){return r.a.createElement(st.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.id},to.map((function(a,n){return e.dmgFeedback&&"dmgFeedback"===a.id?r.a.createElement(ot.a,{key:a.id,align:a.align},r.a.createElement(ao,{report:e.dmgFeedback})):e.dmgFeedback||"dmgFeedback"!==a.id?"amount"===a.id?r.a.createElement(ot.a,{key:"column.id",align:a.align},t.length>0?"".concat(e[a.id],"/").concat(t[n][a.id]):"".concat(e[a.id],"/").concat(e[a.id])):r.a.createElement(ot.a,{key:a.id,align:a.align},e[a.id]):r.a.createElement(ot.a,{key:a.id,align:a.align},"No report")})))})))),r.a.createElement(mt.a,{rowsPerPageOptions:[5,10,20],component:"div",count:a.length,rowsPerPage:u,page:o,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){d(+e.target.value),i(0)}}))},ro=Object(X.a)({root:{width:"100%",overflowX:"auto",marginBottom:"5%"},tableCell:{borderRight:"1px solid RGB(224, 224, 224)"},spanTable:{fontWeight:"600"},button:{marginLeft:"5%",marginTop:"7%",marginBottom:"7%"},mainPaper:{marginLeft:"15%",marginTop:"15%",marginBottom:"15%",marginRight:"15%",backgroundColor:"red"}}),lo=function(e){var a=e.ttn,t=e.onDelete,n=ro();return r.a.createElement(K.a,{component:"main",maxWidth:"xl"},r.a.createElement(re.a,{className:n.root},r.a.createElement(lt.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center",colSpan:4},r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"International waybill \u2116 "),' "',a.id,'"',r.a.createElement("span",{className:n.spanTable}," from "),'"',Et()(a.dataOfRegistration).format("MMMM Do YYYY"),'"')))),r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{className:n.tableCell,align:"left",colSpan:1},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Service:"),' "',a.service,'"')),r.a.createElement(ot.a,{className:n.tableCell,align:"left",colSpan:1},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Owner info:"),' "',a.owner,'"')),r.a.createElement(ot.a,{className:n.tableCell,align:"left",colSpan:1},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Status:"),' "',a.status,'"')),r.a.createElement(ot.a,{align:"left",colSpan:1},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Warehouse company:"),' "',a.warehouseCompany,'"'))),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"left",colSpan:1},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Carrier info:"))),r.a.createElement(ot.a,{className:n.tableCell,align:"center",colSpan:1},r.a.createElement(lt.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,null,r.a.createElement("span",{className:n.spanTable},"Unp: "),'"',a.carrier.unp,'"')),r.a.createElement(st.a,null,r.a.createElement(ot.a,null,r.a.createElement("span",{className:n.spanTable},"Phone: "),'"',a.carrier.tel,'"')),r.a.createElement(st.a,null,r.a.createElement(ot.a,null,r.a.createElement("span",{className:n.spanTable},"Company name: "),'"',a.carrier.company,'"'))))),r.a.createElement(ot.a,{align:"left",colSpan:1},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Driver info:"))),r.a.createElement(ot.a,{align:"left",colSpan:1},r.a.createElement(lt.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(ct.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,null,r.a.createElement("span",{className:n.spanTable},"Name: "),'"',a.driver.name,'"')),r.a.createElement(st.a,null,r.a.createElement(ot.a,null,r.a.createElement("span",{className:n.spanTable},"Driver license: "),'"',a.driver.license,'"')),r.a.createElement(st.a,null,r.a.createElement(ot.a,null,r.a.createElement("span",{className:n.spanTable},"Car number: "),'"',a.carNumber,'"')))))),r.a.createElement(st.a,{className:n.cargoRow},r.a.createElement(ot.a,{align:"center",colSpan:4},r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},r.a.createElement("span",{className:n.spanTable},"Cargo list:")))),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"left",colSpan:4},r.a.createElement(no,{cargo:a.products,initialCargo:a.initialProducts}))),"registred"===a.status&&r.a.createElement(st.a,null,r.a.createElement(ee.a,{variant:"contained",color:"secondary",className:n.button,onClick:function(){return t(a.id)}},"Delete",r.a.createElement(dt.a,{style:{marginLeft:"5%"}})))))))},co=function(e){var a=e.searchTtn,t=e.ttns,l=e.getTtnError,c=e.deleteTtn,o=Object(n.useState)(""),i=Object(Q.a)(o,2),m=i[0],s=i[1];return r.a.createElement("div",null,r.a.createElement(Mr,{search:a,searchText:"Search TTN by number",error:l.number,value:m,setValue:s,length:10}),t[m]&&r.a.createElement(lo,{ttn:t[m],onDelete:c}))},oo=function(){var e=ce(),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=Object(n.useCallback)((function(){xl(l,"TTN successfully deleted")}),[l]),o=Ze(),i=Object(Q.a)(o,3),m=i[0],s=i[1],u=i[2],d=_e(c),p=Object(Q.a)(d,1)[0];return r.a.createElement(co,{key:t,searchTtn:m,ttns:s,getTtnError:u,deleteTtn:p})},io={firstName:"",lastName:"",patronymic:"",email:"",city:"",street:"",house:"",apartment:"",password:"",passwordAgain:"",avatar:""},mo=function(e){var a=e.onSubmit,t=e.errors,l=e.initial,c=Object(n.useState)(Object(n.useMemo)((function(){return Object(d.a)({},io,{},l)}),[l])),o=Object(Q.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)("1970-01-01"),u=Object(Q.a)(s,2),p=u[0],g=u[1],E=Ct(),b=$a()(!1,(function(e){e&&(j(),v(!1))})),h=Object(Q.a)(b,2),f=h[0],v=h[1],y=Object(n.useState)(!1),O=Object(Q.a)(y,2),x=O[0],C=O[1];te.ValidatorForm.addValidationRule("isPasswordMatch",(function(e){return e===i.password}));var j=function(){tt.ref("employes/".concat(f.name)).put(f).on("state_changed",(function(e){}),(function(e){console.error(e)}),(function(){tt.ref("employes").child(f.name).getDownloadURL().then((function(e){C(e)}))}))};return r.a.createElement(te.ValidatorForm,{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=Object.assign({firstName:i.firstName,lastName:i.lastName,patronymic:i.patronymic,email:i.email,city:i.city,street:i.street,house:i.house,apartment:i.apartment,dateOfBirth:p,avatar:x},i.password?{password:i.password}:{});a(t)}},r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement("label",null,x&&r.a.createElement("img",{src:x,className:E.avatar,alt:"avatar"}),r.a.createElement("input",{type:"file",className:E.file,onChange:function(e){e.target.files[0]&&v(e.target.files[0])}})))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(ka,{min:2,max:30,required:!0,fullWidth:!0,value:i,error:t,name:"lastName",label:"Last name",handleChange:m,inputProps:{"data-testid":"lastName"},pattern:/^[-a-zA-Z]*$/})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(ka,{required:!0,fullWidth:!0,name:"firstName",label:"First name",pattern:/^[-a-zA-Z]*$/,value:i,error:t,handleChange:m,min:2,max:30,inputProps:{"data-testid":"firstName"}})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:4},r.a.createElement(ka,{required:!0,fullWidth:!0,label:"Patronymic",name:"patronymic",pattern:/^[-a-zA-Z]*$/,value:i,error:t,handleChange:m,min:2,max:30,inputProps:{"data-testid":"patronymic"}}))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(wt.a,{utils:St.a},r.a.createElement(kt.a,{required:!0,fullWidth:!0,className:E.formControl,disableFuture:!0,value:p,onChange:g,name:"dateOfBirth",openTo:"year",format:"dd/MM/yyyy",label:"Date of Birth",views:["year","month","date"],minDate:new Date("1960-01-01"),maxDate:new Date("2001-01-01"),inputProps:{"data-testid":"dateOfBirth"}}))),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{required:!0,fullWidth:!0,value:i,error:t,name:"email",label:"E-mail",pattern:/.*/,handleChange:m,validators:["isEmail"],inputProps:{"data-testid":"email"},errorMessages:["Email is not valid"]}))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{min:2,max:30,required:!0,fullWidth:!0,name:"city",label:"City",inputProps:{"data-testid":"city"},pattern:/^[-a-zA-Z ]*$/,value:i,error:t,handleChange:m})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{min:2,max:30,required:!0,fullWidth:!0,value:i,name:"street",label:"Street",inputProps:{"data-testid":"street"},error:t,handleChange:m,pattern:/^[-a-zA-Z0-9 /]*$/}))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{required:!0,fullWidth:!0,name:"house",label:"House number",inputProps:{"data-testid":"house"},pattern:/^[-a-zA-Z0-9 /]*$/,value:i,error:t,handleChange:m})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{pattern:/^[-a-zA-Z0-9 /]*$/,fullWidth:!0,required:!0,name:"apartment",inputProps:{"data-testid":"apartment"},value:i,error:t,label:"Apartment number",handleChange:m}))),r.a.createElement(Tt.a,{container:!0,spacing:3},r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{fullWidth:!0,required:!0,type:"password",name:"password",inputProps:{"data-testid":"password"},label:"Password",pattern:/.*/,value:i,error:t,handleChange:m})),r.a.createElement(Tt.a,{item:!0,xs:12,sm:6},r.a.createElement(ka,{fullWidth:!0,required:!0,type:"password",name:"passwordAgain",inputProps:{"data-testid":"passwordAgain"},label:"Password again",pattern:/.*/,value:i,error:t,handleChange:m,validators:["isPasswordMatch"],errorMessages:["Password does not match"]}),t&&r.a.createElement(Na.a,{className:E.helperText},t.password))),r.a.createElement(Tt.a,{item:!0,xs:12,sm:2},r.a.createElement(At.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary","data-testid":"submit",className:E.submit},"Submit")))},so=t(321),uo=t.n(so);function po(){var e=Object(i.d)(Se),a=Object(i.c)(),t=Object(n.useState)(!1),l=Object(Q.a)(t,2),c=l[0],o=l[1],m=Pe((function(){uo.a.fire({type:"success",title:"Congratulations!",text:"Data successfully changed !",showConfirmButton:!1,timer:1500})})),s=Object(Q.a)(m,3),u=s[0],d=s[1],p=s[2];Object(n.useEffect)((function(){Object.keys(d).length&&c&&q(a)()}));return r.a.createElement(mo,{onSubmit:function(a){u(a,e.id),o(!!a.password)},errors:p,initial:e})}var go=Object(X.a)((function(e){return{paper:{margin:20,padding:20}}})),Eo=function(){var e=go().paper;return r.a.createElement(re.a,{className:e},r.a.createElement(G.a,{component:H.a,variant:"h4",pb:4},"Your profile"),r.a.createElement(po,null))};var bo=function(e){var a=e.id,t=e.name,n=e.email,l=e.onDelete,c=e.onEdit;return r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center"},t),r.a.createElement(ot.a,{align:"center"},n),r.a.createElement(ot.a,{align:"center"},r.a.createElement(ee.a,{variant:"contained",color:"secondary",onClick:function(){return l(a)},"data-testid":"delete-"+a,startIcon:r.a.createElement(dt.a,null)},"Delete")),r.a.createElement(ot.a,{align:"center"},r.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:function(){return c({},a)},"data-testid":"delete-"+a,startIcon:r.a.createElement(Ql.a,null)},"Refresh")))},ho=Object(X.a)((function(e){return{center:{width:"100%",padding:e.spacing(3,3,3,3)},error:{color:"red"},paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},table:{minWidth:700},tableContainer:{padding:e.spacing(3,3,3,3)}}})),fo=function(e){var a=e.onCreate,t=e.error,l=ho(),c=Object(n.useState)({name:"",email:""}),o=Object(Q.a)(c,2),i=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{item:!0,sm:12,xl:12},r.a.createElement(H.a,{component:"h4",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0,className:l.center},"Create new service")),r.a.createElement(ae.a,{xl:12,sm:12,spacing:3,container:!0,component:te.ValidatorForm,onSubmit:function(){return a(i)},noValidate:!0,alignItems:"center",className:l.center},r.a.createElement(ae.a,{item:!0,xs:12,xl:6},r.a.createElement(ka,{required:!0,fullWidth:!0,label:"System name*",pattern:/^[a-z0-9_]*$/,handleChange:m,min:2,max:30,inputProps:{"data-testid":"name"},name:"name",value:i,error:t,helperClass:l.error})),r.a.createElement(ae.a,{item:!0,xs:12,xl:5},r.a.createElement(ka,{required:!0,fullWidth:!0,label:"System email*",pattern:/.*/,handleChange:m,inputProps:{"data-testid":"name"},name:"email",value:i,error:t,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"],helperClass:l.error})),r.a.createElement(ae.a,{item:!0,xs:12,xl:1},r.a.createElement(ee.a,{"data-testid":"create",type:"submit",variant:"contained"},"Add"))))};var vo=function(e){var a=e.services,t=e.onCreate,n=e.onDelete,l=e.errorAdd,c=e.editService,o=ho();return r.a.createElement(K.a,{component:"main",maxWidth:"md"},r.a.createElement(J.a,null),r.a.createElement(re.a,{className:o.paper},r.a.createElement(fo,{onCreate:t,error:l}),a.length>0&&r.a.createElement(H.a,{variant:"h4",align:"center",color:"textSecondary"},"List of services"),r.a.createElement(bt.a,{className:o.tableContainer},r.a.createElement(lt.a,{className:o.table,size:"small"},r.a.createElement(ct.a,null,a.map((function(e){return r.a.createElement(bo,Object.assign({},e,{onDelete:n,key:e.id,onEdit:c}))})))))))},yo=function(e,a,t){fe.a.fire({title:"Are you sure you want to complete this action?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(n){n.value&&(e(a,t),fe.a.mixin({toast:!0,position:"bottom-start",showConfirmButton:!1,timer:2e3}).fire({background:"#1A4492",type:"success",html:'<span style="color:white;margin-left:2%">Data saved successfully<span>'}))}))},Oo=function(){var e=oa(),a=Object(Q.a)(e,2),t=a[0],l=a[1],c=la(Ot),o=Object(Q.a)(c,3),i=o[0],m=o[2],s=ca(),u=Object(Q.a)(s,1)[0],p=ia(),g=Object(Q.a)(p,1)[0];Object(n.useEffect)(t,[]);return r.a.createElement(vo,{services:Object.values(l).map((function(e){return Object(d.a)({},e,{name:e.id})})),onCreate:i,onDelete:function(e){yo(u,e)},errorAdd:m,editService:function(e){yo(g,e)}})},xo=t(689),Co=t(688),jo=t(324),To=t.n(jo),No=t(212),Ao=t.n(No),So=t(213),wo=t.n(So),ko=t(325),Do=t.n(ko),Wo=t(178),Ro=t(322),Io=t.n(Ro),Po=Object(X.a)((function(e){return{root:{color:e.palette.text.secondary,"&:focus > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},marginLeft:55},content:{color:e.palette.text.secondary,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}}}));function Bo(e){var a=Po(),t=e.labelText,n=e.labelIcon,l=e.labelInfo,c=e.color,o=e.bgColor,i=Object(pa.a)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return r.a.createElement(Io.a,Object.assign({label:r.a.createElement("div",{className:a.labelRoot},r.a.createElement(n,{color:"inherit",className:a.labelIcon}),r.a.createElement(H.a,{variant:"body2",className:a.labelText},t),r.a.createElement(H.a,{variant:"caption",color:"inherit"},l)),style:{"--tree-view-color":c,"--tree-view-bg-color":o},classes:{root:a.root,content:a.content,expanded:a.expanded,group:a.group,label:a.label}},i))}var Vo=function(e){var a=e.products,t=e.handleData;return a.products.map((function(e,a){return r.a.createElement("span",{onClick:function(){return t(e)},key:Object(Wo.a)(e)},r.a.createElement(Bo,{nodeId:"sub_sub".concat(a),labelText:e.name,labelIcon:Jl.a,labelInfo:"amount: ".concat(e.amount," (").concat(e.package,") / size: ").concat(e.size),color:"#1a73e8",bgColor:"#e8f0fe"}))}))},Lo=t(323),Fo=t.n(Lo),Mo=Object(X.a)((function(e){return{root:{color:e.palette.text.secondary,"&:focus > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},paddingLeft:10},content:{color:e.palette.text.secondary,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}}}));function Uo(e){var a=Mo(),t=e.labelText,n=e.labelIcon,l=e.labelInfo,c=e.color,o=e.bgColor,i=Object(pa.a)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return r.a.createElement(Co.a,Object.assign({label:r.a.createElement("div",{className:a.labelRoot},r.a.createElement(n,{color:"inherit",className:a.labelIcon}),r.a.createElement(H.a,{variant:"body2",className:a.labelText},t),r.a.createElement(H.a,{variant:"caption",color:"inherit"},l)),style:{"--tree-view-color":c,"--tree-view-bg-color":o},classes:{root:a.root,content:a.content,expanded:a.expanded,group:a.group,label:a.label,submenu:a.submenu}},i))}var qo=function(e){var a=e.areas,t=e.handleData;return a.map((function(e,a){return r.a.createElement(Uo,{key:Object(Wo.a)(e),nodeId:"sub".concat(a),labelText:e.type,labelIcon:Fo.a,labelInfo:"area: ".concat(e.area," / free: ").concat(e.freeArea),color:"#1a73e8",bgColor:"#e8f0fe"},r.a.createElement(Vo,{products:e,handleData:t}))}))},zo=Object(X.a)((function(e){return{root:{color:e.palette.text.secondary,"&:focus > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},paddingLeft:10},content:{color:e.palette.text.secondary,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}}}));function Go(e){var a=zo(),t=e.labelText,n=e.labelIcon,l=e.labelInfo,c=e.color,o=e.bgColor,i=Object(pa.a)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return r.a.createElement(Co.a,Object.assign({label:r.a.createElement("div",{className:a.labelRoot},r.a.createElement(n,{color:"inherit",className:a.labelIcon}),r.a.createElement(H.a,{variant:"body2",className:a.labelText},t),r.a.createElement(H.a,{variant:"caption",color:"inherit"},l)),style:{"--tree-view-color":c,"--tree-view-bg-color":o},classes:{root:a.root,content:a.content,expanded:a.expanded,group:a.group,label:a.label,submenu:a.submenu}},i))}var Qo=Object(X.a)({root:{flexGrow:1}});function Zo(e){var a=e.data,t=e.handleData,n=Qo(),l=a.address,c=a.areas;return r.a.createElement(xo.a,{className:n.root,defaultExpanded:["3"],defaultCollapseIcon:r.a.createElement(Ao.a,null),defaultExpandIcon:r.a.createElement(wo.a,null),defaultEndIcon:r.a.createElement("div",{style:{width:24}})},r.a.createElement(Go,{nodeId:"m1",labelText:l,labelIcon:To.a},r.a.createElement(xo.a,{defaultExpanded:["3"],defaultCollapseIcon:r.a.createElement(Ao.a,null),defaultExpandIcon:r.a.createElement(wo.a,null),defaultEndIcon:r.a.createElement("div",{style:{width:24}})},r.a.createElement(Go,{nodeId:"m2",labelText:"Areas",labelIcon:Do.a},r.a.createElement(qo,{areas:c,handleData:t})))))}var Jo=t(690),Yo=t(326),_o=t.n(Yo),Ho=t(179),Ko=Object(X.a)({avatar:{backgroundColor:Ho.a[100],color:Ho.a[600]},modal:{height:"700px"}});var Xo=function(e){var a=e.open,t=e.close,n=e.data,l=Ko();return r.a.createElement(Tc.a,{onClose:t,className:l.modal,"aria-labelledby":"simple-dialog-title",open:a},r.a.createElement(Xc.a,{id:"simple-dialog-title"},"History of item"),r.a.createElement(el.a,null,n.map((function(e){return r.a.createElement(al.a,{button:!0,key:e[0]},r.a.createElement(Jo.a,null,r.a.createElement(Z.a,{className:l.avatar},r.a.createElement(_o.a,null))),r.a.createElement(tl.a,{primary:"".concat(e[0]," : ").concat(e[1])}))}))))},$o=Object(X.a)((function(e){return{root:{flexGrow:1},paper:{height:600,width:500,padding:20},control:{padding:e.spacing(2)},warehouseImg:{margin:"0 auto",display:"block"},info:{textAlign:"center"}}})),ei=function(e){var a=e.data,t=$o(),l=a.company,c=a.totalArea,o=a.address,i=a.buildImg,m=Object(n.useState)([]),s=Object(Q.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)(!1),g=Object(Q.a)(p,2),E=g[0],b=g[1];return r.a.createElement(ae.a,{container:!0,className:t.root,spacing:2},r.a.createElement(Xo,{open:E,data:u,close:function(e){console.log("asdsad"),b(!1)}}),r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ae.a,{container:!0,justify:"center",spacing:2},r.a.createElement(ae.a,{item:!0},r.a.createElement(re.a,{className:t.paper},r.a.createElement("img",{src:i?a.buildImg:"https://image.shutterstock.com/image-photo/warehouse-interior-600w-549735178.jpg",alt:"buildImg",width:150,height:150,className:t.warehouseImg}),r.a.createElement("div",{className:t.info},r.a.createElement("h1",null,r.a.createElement("b",null,"Company:")," ",l," "),r.a.createElement("p",null,r.a.createElement("b",null,"Address:")," ",o),r.a.createElement("p",null,r.a.createElement("b",null,"Total Area:")," ",c)),r.a.createElement(Ka,{google:"",GPS:a.GPS,mapVisibility:!0,theme:"dark",zoom:15,mapHeight:200,withTitle:!1}))),r.a.createElement(ae.a,{item:!0},r.a.createElement(re.a,{className:t.paper},r.a.createElement(Zo,{data:a,handleData:function(e){console.log("data"),d(Object.entries(e).filter((function(e){return"id"!==e[0]}))),b(!0)}}))))))},ai=function(e){var a=e.searchWarehouse,t=e.warehouseErr,l=e.warehouse,c=Object(n.useState)(""),o=Object(Q.a)(c,2),i=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mr,{search:a,searchText:"Search warehouse by License",error:t.warehouse,value:i,setValue:m,length:10}),l[i]&&r.a.createElement(ei,{data:l[i]}))},ti=function(){var e=$e(),a=Object(Q.a)(e,3),t=a[0],n=a[1],l=a[2];return r.a.createElement(ai,{searchWarehouse:t,warehouse:n,warehouseErr:l})},ni=t(214),ri=t.n(ni),li=Object(X.a)({root:{width:"100%",overflowX:"auto",marginTop:"5%"},table:{minWidth:650}}),ci=function(e){var a=e.reports,t=li(),l=Object(n.useState)(0),c=Object(Q.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(5),s=Object(Q.a)(m,2),u=s[0],d=s[1],p=o*u,g=o*u+u;return r.a.createElement(re.a,{className:t.root},r.a.createElement(lt.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(it.a,null,r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center",colSpan:4},r.a.createElement(H.a,{variant:"h4",align:"center",color:"textSecondary",component:"p",style:{marginBottom:"3%"}},"Reports table"))),r.a.createElement(st.a,null,r.a.createElement(ot.a,{align:"center"},"Date of creation"),r.a.createElement(ot.a,{align:"center"},"Service type"),r.a.createElement(ot.a,{align:"center"},"Status"),r.a.createElement(ot.a,{align:"center"},"Report"))),r.a.createElement(ct.a,null,a.slice(p,g).map((function(e){return r.a.createElement(st.a,{key:e.sys_id},r.a.createElement(ot.a,{align:"center"},Et()(e.sys_created_on).format("DD/MM/YYYY")),r.a.createElement(ot.a,{align:"center"},e.u_servicetype),r.a.createElement(ot.a,{align:"center"},e.u_status),r.a.createElement(ot.a,{align:"center"},r.a.createElement(ao,{report:e.u_incidentinfo})))})))),r.a.createElement(mt.a,{rowsPerPageOptions:[5,10,20],component:"div",count:a.length,rowsPerPage:u,page:o,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){d(+e.target.value),i(0)}}))},oi=function(e){var a=e.services,t=e.setReports,l=e.getBy,c=e.reports,o=Object(n.useState)(!1),i=Object(Q.a)(o,2),m=i[0],s=i[1],u=Object.keys(a);return u.unshift("Main"),r.a.createElement(K.a,{component:"main",maxWidth:"md",style:{marginTop:"3%"}},r.a.createElement(H.a,{variant:"h5",align:"center",color:"textSecondary",component:"p"},"Search all reports by service name"),r.a.createElement(Vr,{list:u,searchItem:"services",setValue:function(e){var a;return ri.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),n.next=3,ri.a.awrap(l(e));case 3:a=n.sent,s(!1),t(a.data.result);case 6:case"end":return n.stop()}}))}}),m&&r.a.createElement(n.Fragment,null,r.a.createElement(or.a,{style:{marginTop:"5%",marginLeft:"50%"},color:"primary"})),c.length>0&&!m&&r.a.createElement(ci,{reports:c}))},ii=function(){var e=oa(),a=Object(Q.a)(e,3),t=a[0],l=a[1],c=(a[2],Object(n.useState)({})),o=Object(Q.a)(c,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(oi,{services:l,setReports:m,getBy:Gc,reports:i})},mi=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){if(!e.auth.isAuthenticated)return r.a.createElement("div",{className:"wrapper"},r.a.createElement(G.a,{className:"content"},r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/login",component:tn}),r.a.createElement(z.b,{component:rr}))),r.a.createElement(Rn,null));var a=[];switch("employee"===e.auth.user.role&&(e.auth.user.position.includes("manager")?a=[r.a.createElement(z.b,{exact:!0,path:"/warehousing",component:Sl}),r.a.createElement(z.b,{exact:!0,path:"/outTtnRegister",component:$r}),r.a.createElement(z.b,{exact:!0,path:"/warehausesInfo",component:ti})]:e.auth.user.position.includes("operator")?a=[r.a.createElement(z.b,{exact:!0,path:"/ttnRegister",component:Yr}),r.a.createElement(z.b,{exact:!0,path:"/allCarrier",component:Tr}),r.a.createElement(z.b,{exact:!0,path:"/checkTtn",component:oo})]:e.auth.user.position.includes("controller")&&(a=[r.a.createElement(z.b,{exact:!0,path:"/controlTTN",component:Hc}),r.a.createElement(z.b,{component:Oc})])),e.auth.user.role){case"employee":return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Tn,null),r.a.createElement(G.a,{className:"content"},r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/me",component:Eo}),a.map((function(e){return e})),r.a.createElement(z.b,{component:Mt}))),r.a.createElement(Rn,null));case"mainAdmin":return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Tn,null),r.a.createElement(G.a,{className:"content"},r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/me",component:Eo}),r.a.createElement(z.b,{exact:!0,path:"/serviceManager",component:Oo}),r.a.createElement(z.b,{exact:!0,path:"/newCompanyAdmin",component:ve}),r.a.createElement(z.b,{exact:!0,path:"/reports",component:sn}),r.a.createElement(z.b,{exact:!0,path:"/companiesList",component:qn}),r.a.createElement(z.b,{component:Mt}))),r.a.createElement(Rn,null));case"companyAdmin":return r.a.createElement("div",{className:"wrapper"},r.a.createElement(Tn,null),r.a.createElement(G.a,{className:"content"},r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/me",component:Eo}),r.a.createElement(z.b,{exact:!0,path:"/myWarehouses",component:xt}),r.a.createElement(z.b,{exact:!0,path:"/createUser",component:Bt}),r.a.createElement(z.b,{exact:!0,path:"/employees",component:Il}),r.a.createElement(z.b,{exact:!0,path:"/serviceNow",component:ii}),r.a.createElement(z.b,{exact:!0,path:"/employees/:id",component:Ml}),r.a.createElement(z.b,{component:Mt}))),r.a.createElement(Rn,null));default:return r.a.createElement(z.a,{to:{pathname:"/"}})}}));t(602);if(localStorage.jwtToken){F(localStorage.jwtToken);var si=B()(localStorage.jwtToken);I.dispatch(U(si))}var ui=function(){return r.a.createElement(i.a,{store:I},r.a.createElement(o.a,null,r.a.createElement(mi,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ui,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[356,1,2]]]);
//# sourceMappingURL=main.2008e4ce.chunk.js.map